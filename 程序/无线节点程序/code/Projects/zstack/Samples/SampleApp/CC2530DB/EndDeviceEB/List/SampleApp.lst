###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.30.1.41636 for 8051             18/Oct/2017  16:48:02 #
# Copyright 2004-2013 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#                                                                             #
#    Source file        =  D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\P #
#                          rojects\zstack\Samples\SampleApp\Source\SampleApp. #
#                          c                                                  #
#    Command line       =  -f "D:\简宝山\寿县17-09-01                         #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wEnde #
#                          v.cfg" (-DCPU32MHZ -DROOT=__near_func              #
#                          -DMAC_CFG_TX_DATA_MAX=3 -DMAC_CFG_TX_MAX=6         #
#                          -DMAC_CFG_RX_MAX=3) -f "D:\简宝山\寿县17-09-01     #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\Tools\CC2530DB\f8wConf #
#                          ig.cfg" (-DZIGBEEPRO -DSECURE=0                    #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFFF1                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 "D:\简宝山\寿县17-09-01     #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\Source\SampleApp.c" -D NWK_AUTO_POLL -D  #
#                          ZTOOL_P1 -D xMT_TASK -D xMT_SYS_FUNC -D            #
#                          xMT_ZDO_FUNC -D xLCD_SUPPORTED=DEBUG -lC           #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\EndDevi #
#                          ceEB\List\" -lA "D:\简宝山\寿县17-09-01            #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\EndDeviceEB\List\"              #
#                          --diag_suppress Pe001,Pa010 -o                     #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\EndDevi #
#                          ceEB\Obj\" -e --no_code_motion --debug             #
#                          --core=plain --dptr=16,1 --data_model=large        #
#                          --code_model=banked --calling_convention=xdata_ree #
#                          ntrant --place_constants=data_rom                  #
#                          --nr_virtual_regs 8 -I "D:\简宝山\寿县17-09-01     #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\" -I "D:\简宝山\寿县17-09-01    #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\Source\" -I                  #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\..\Sour #
#                          ce\hardware\" -I "D:\简宝山\寿县17-09-01           #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\ZMain\TI2530DB\" -I    #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\..\..\. #
#                          .\..\..\Components\hal\include\" -I                #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\..\..\. #
#                          .\..\..\Components\hal\target\CC2530EB\" -I        #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\..\..\. #
#                          .\..\..\Components\mac\include\" -I                #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\..\..\. #
#                          .\..\..\Components\mac\high_level\" -I             #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\..\..\. #
#                          .\..\..\Components\mac\low_level\srf04\" -I        #
#                          "D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\ #
#                          Projects\zstack\Samples\SampleApp\CC2530DB\..\..\. #
#                          .\..\..\Components\mac\low_level\srf04\single_chip #
#                          \" -I "D:\简宝山\寿县17-09-01                      #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\mt\"  #
#                          -I "D:\简宝山\寿县17-09-01                         #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\osal\ #
#                          include\" -I "D:\简宝山\寿县17-09-01               #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\servi #
#                          ces\saddr\" -I "D:\简宝山\寿县17-09-01             #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\servi #
#                          ces\sdata\" -I "D:\简宝山\寿县17-09-01             #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\stack #
#                          \af\" -I "D:\简宝山\寿县17-09-01                   #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\stack #
#                          \nwk\" -I "D:\简宝山\寿县17-09-01                  #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\stack #
#                          \sapi\" -I "D:\简宝山\寿县17-09-01                 #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\stack #
#                          \sec\" -I "D:\简宝山\寿县17-09-01                  #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\stack #
#                          \sys\" -I "D:\简宝山\寿县17-09-01                  #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\stack #
#                          \zdo\" -I "D:\简宝山\寿县17-09-01                  #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\zmac\ #
#                          " -I "D:\简宝山\寿县17-09-01                       #
#                          25\程序\无线节点程序\code\Projects\zstack\Samples\ #
#                          SampleApp\CC2530DB\..\..\..\..\..\Components\zmac\ #
#                          f8w\" -Ohz --require_prototypes                    #
#    List file          =  D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\P #
#                          rojects\zstack\Samples\SampleApp\CC2530DB\EndDevic #
#                          eEB\List\SampleApp.lst                             #
#    Object file        =  D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\P #
#                          rojects\zstack\Samples\SampleApp\CC2530DB\EndDevic #
#                          eEB\Obj\SampleApp.r51                              #
#                                                                             #
#                                                                             #
###############################################################################

D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\Projects\zstack\Samples\SampleApp\Source\SampleApp.c
      1          /**************************************************************************************************
      2            Filename:       SampleApp.c
      3            Revised:        $Date: 2009-03-18 15:56:27 -0700 (Wed, 18 Mar 2009) $
      4            Revision:       $Revision: 19453 $
      5          
      6            Description:    Sample Application (no Profile).
      7          
      8          
      9            Copyright 2007 Texas Instruments Incorporated. All rights reserved.
     10          
     11            IMPORTANT: Your use of this Software is limited to those specific rights
     12            granted under the terms of a software license agreement between the user
     13            who downloaded the software, his/her employer (which must be your employer)
     14            and Texas Instruments Incorporated (the "License").  You may not use this
     15            Software unless you agree to abide by the terms of the License. The License
     16            limits your use, and you acknowledge, that the Software may not be modified,
     17            copied or distributed unless embedded on a Texas Instruments microcontroller
     18            or used solely and exclusively in conjunction with a Texas Instruments radio
     19            frequency transceiver, which is integrated into your product.  Other than for
     20            the foregoing purpose, you may not use, reproduce, copy, prepare derivative
     21            works of, modify, distribute, perform, display or sell this Software and/or
     22            its documentation for any purpose.
     23          
     24            YOU FURTHER ACKNOWLEDGE AND AGREE THAT THE SOFTWARE AND DOCUMENTATION ARE
     25            PROVIDED AS IS?WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
     26            INCLUDING WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, TITLE,
     27            NON-INFRINGEMENT AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT SHALL
     28            TEXAS INSTRUMENTS OR ITS LICENSORS BE LIABLE OR OBLIGATED UNDER CONTRACT,
     29            NEGLIGENCE, STRICT LIABILITY, CONTRIBUTION, BREACH OF WARRANTY, OR OTHER
     30            LEGAL EQUITABLE THEORY ANY DIRECT OR INDIRECT DAMAGES OR EXPENSES
     31            INCLUDING BUT NOT LIMITED TO ANY INCIDENTAL, SPECIAL, INDIRECT, PUNITIVE
     32            OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA, COST OF PROCUREMENT
     33            OF SUBSTITUTE GOODS, TECHNOLOGY, SERVICES, OR ANY CLAIMS BY THIRD PARTIES
     34            (INCLUDING BUT NOT LIMITED TO ANY DEFENSE THEREOF), OR OTHER SIMILAR COSTS.
     35          
     36            Should you have any questions regarding your right to use this Software,
     37            contact Texas Instruments Incorporated at www.TI.com.
     38          **************************************************************************************************/
     39          
     40          /*********************************************************************
     41            This application isn't intended to do anything useful, it is
     42            intended to be a simple example of an application's structure.
     43          
     44            This application sends it's messages either as broadcast or
     45            broadcast filtered group messages.  The other (more normal)
     46            message addressing is unicast.  Most of the other sample
     47            applications are written to support the unicast message model.
     48          
     49            Key control:
     50              SW1:  Sends a flash command to all devices in Group 1.
     51              SW2:  Adds/Removes (toggles) this device in and out
     52                    of Group 1.  This will enable and disable the
     53                    reception of the flash command.
     54          *********************************************************************/
     55          
     56          /*********************************************************************
     57           * INCLUDES
     58           */
     59          #include "OSAL.h"
     60          #include "ZGlobals.h"
     61          #include "AF.h"
     62          #include "aps_groups.h"
     63          #include "ZDApp.h"
     64          
     65          #include "SampleApp.h"
     66          #include "SampleAppHw.h"
     67          
     68          #include "OnBoard.h"
     69          
     70          /* HAL */
     71          #include "hal_lcd.h"
     72          #include "hal_led.h"
     73          #include "hal_key.h"
     74          
     75          #include  "MT_UART.h" //此处用于串口
     76          #include  "MT.h"
     77          #include "wdt.h"
     78          #include "adc.h"
     79          
     80          #include "APSMEDE.h"
     81          #include "AddrMgr.h"
     82          
     83          #include <stdio.h>
     84          #include <stdlib.h>
     85          #include <string.h>
     86          
     87          #include "osal_nv.h"
     88          
     89          /*********************************************************************
     90           * MACROS（宏定义）
     91           */
     92          #define DATASENSOR_COOR  67
     93          #define DATASENSOR_LEN  27
     94          
     95          #define DATA_OFFSET_ID    5
     96          #define DATA_OFFSET_T0    9
     97          #define DATA_OFFSET_U     14
     98          #define DATA_OFFSET_GH    18
     99          
    100          #define COOR_DATA_LEN   67
    101          
    102          /* AD采样模拟开关通道 */
    103          #define STDR_CHANNEL   0 //标准电阻
    104          #define T0_CHANNEL     1 //温度
    105          #define U_CHANNEL      2 //湿度
    106          #define GH_CHANNEL     3 //光合表
    107          
    108          #define AD_VREF         1.25 //AD参考电压
    109          
    110          /*********************************************************************
    111           * CONSTANTS
    112           */
    113          
    114          /*********************************************************************
    115           * TYPEDEFS(类型定义)
    116           */
    117          typedef struct
    118          {
    119            int temperature;
    120            int humidity;
    121            int photosyn; //光合量
    122          }dataType_t;
    123          
    124          /*********************************************************************
    125           * GLOBAL VARIABLES(全局变量)
    126           */
    127          #if (!defined (ZDO_COORDINATOR)) && (!defined (RTR_NWK))  //终端节点
    128          
    129          /*入网超时管理*/    /* 16.8.5适当调大离线时间限制，防止只选中单通道时重启时间过短，注意不能超过255 */
    130          #define ORPHAN_MAX   (/*30*/60)   //离线时间限制

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    131          uint8 orphan=0;  //孤立节点计数，超过一定时间未连接到网络时重启设备
   \                     orphan:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    132          //uint8 heart=0;   //心跳包计数，超过一定时间未接收到心跳包则重启设备
    133          //uint8 heart_open=0;  //心跳包开关
    134          
    135          #endif //终端
    136          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    137          int debug = 0; //调试信息开关：1 开，0 关，默认关
   \                     debug:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    138          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    139          int sensor_id = 0; //传感器ID
   \                     sensor_id:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    140          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    141          float gh_factor = 0; //光合表系数
   \                     gh_factor:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
    142          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    143          int rs_flag = 0; //复位标志，1 复位，0 无操作
   \                     rs_flag:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    144          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    145          uint8 dev_id[10] = {0}; //保存终端设备ID
   \                     dev_id:
   \   000000                DS 10
   \   00000A                REQUIRE __INIT_XDATA_Z
    146          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    147          uint8 dev_gh[10] = {0}; //保存终端设备光合表系数
   \                     dev_gh:
   \   000000                DS 10
   \   00000A                REQUIRE __INIT_XDATA_Z
    148          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    149          uint8 dev_wddt[10] = {0}; //保存终端设备温度订正
   \                     dev_wddt:
   \   000000                DS 10
   \   00000A                REQUIRE __INIT_XDATA_Z
    150          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    151          float cal_t0 = 0; //温度订正值变量
   \                     cal_t0:
   \   000000                DS 4
   \   000004                REQUIRE __INIT_XDATA_Z
    152          
    153          #if defined (ZDO_COORDINATOR) || defined (RTR_NWK) //协调器
    154          char data_coor[128]={"BG,ID001,-600,099,1234,ID002,-600,099,1234,ID003,-600,099,1234,ED\r\n"}; //协调器数据->主采集器
    155          dataType_t coordi[3]; //协调器数据变量
    156          #else //终端

   \                                 In  segment XDATA_I, align 1, keep-with-next
    157          char data_sensor[128]={"BG,ID001,-600,099,1234,ED\r\n"}; //终端传感器数据->协调器
   \                     data_sensor:
   \   000000                DS 128
   \   000080                REQUIRE `?<Initializer for data_sensor>`
   \   000080                REQUIRE __INIT_XDATA_I

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    158          dataType_t sensor; //传感器数据变量
   \                     sensor:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    159          #endif
    160          
    161          // This list should be filled with Application specific Cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
    162          const cId_t SampleApp_ClusterList[SAMPLEAPP_MAX_CLUSTERS] =
   \                     SampleApp_ClusterList:
   \   000000   0100         DW 1
   \   000002   0200         DW 2
   \   000004   0000         DW 0
   \   000006   0000         DW 0
    163          {
    164            SAMPLEAPP_PERIODIC_CLUSTERID,
    165            SAMPLEAPP_FLASH_CLUSTERID
    166          };
    167          

   \                                 In  segment XDATA_ROM_C, align 1
    168          const SimpleDescriptionFormat_t SampleApp_SimpleDesc =
   \                     SampleApp_SimpleDesc:
   \   000000   14           DB 20
   \   000001   080F         DW 3848
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   04           DB 4
   \   000007   ....         DW SampleApp_ClusterList
   \   000009   04           DB 4
   \   00000A   ....         DW SampleApp_ClusterList
    169          {
    170            SAMPLEAPP_ENDPOINT,              //  int Endpoint;
    171            SAMPLEAPP_PROFID,                //  uint16 AppProfId[2];
    172            SAMPLEAPP_DEVICEID,              //  uint16 AppDeviceId[2];
    173            SAMPLEAPP_DEVICE_VERSION,        //  int   AppDevVer:4;
    174            SAMPLEAPP_FLAGS,                 //  int   AppFlags:4;
    175            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
    176            (cId_t *)SampleApp_ClusterList,  //  uint8 *pAppInClusterList;
    177            SAMPLEAPP_MAX_CLUSTERS,          //  uint8  AppNumInClusters;
    178            (cId_t *)SampleApp_ClusterList   //  uint8 *pAppInClusterList;
    179          };
    180          
    181          // This is the Endpoint/Interface description.  It is defined here, but
    182          // filled-in in SampleApp_Init().  Another way to go would be to fill
    183          // in the structure here and make it a "const" (in code space).  The
    184          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    185          endPointDesc_t SampleApp_epDesc;
   \                     SampleApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    186          
    187          /*********************************************************************
    188           * EXTERNAL VARIABLES
    189           */
    190          
    191          /*********************************************************************
    192           * EXTERNAL FUNCTIONS
    193           */
    194          
    195          /*********************************************************************
    196           * LOCAL VARIABLES
    197           */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    198          uint8 SampleApp_TaskID;   // Task ID for internal task/event processing
   \                     SampleApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    199                                    // This variable will be received when
    200                                    // SampleApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    201          devStates_t SampleApp_NwkState;
   \                     SampleApp_NwkState:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    202          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    203          uint8 SampleApp_TransID;  // This is the unique message ID (counter)
   \                     SampleApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    204          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    205          afAddrType_t SampleApp_Periodic_DstAddr;
   \                     SampleApp_Periodic_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    206          afAddrType_t SampleApp_Flash_DstAddr;
   \                     SampleApp_Flash_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    207          afAddrType_t Point_To_Point_DstAddr; //网蜂点对点通信定义
   \                     Point_To_Point_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    208          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    209          aps_Group_t SampleApp_Group;
   \                     SampleApp_Group:
   \   000000                DS 18
   \   000012                REQUIRE __INIT_XDATA_Z
    210          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    211          uint8 SampleAppPeriodicCounter = 0;
   \                     SampleAppPeriodicCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    212          uint8 SampleAppFlashCounter = 0;
   \                     SampleAppFlashCounter:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    213          
    214          /*********************************************************************
    215           * LOCAL FUNCTIONS
    216           */
    217          void SampleApp_HandleKeys( uint8 shift, uint8 keys );
    218          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    219          void SampleApp_SendPeriodicMessage(char *p, int len );
    220          void SampleApp_SendPointToPointMessage( char *p, int len ); //点对点发送函数
    221          void SampleApp_SerialCMD( mtOSALSerialData_t * MSGpkt); //串口数据处理函数
    222          void SendDataToCollector(char *ptr, int len); //串口向采集器发送数据
    223          void ReturnTorF(int a, int b);//指令回复'T'或'F'
    224          //void Order_Parse(char *str, int len, int flag); //协调器或串口指令解析
    225          
    226          /*********************************************************************
    227           * NETWORK LAYER CALLBACKS
    228           */
    229          
    230          /*********************************************************************
    231           * PUBLIC FUNCTIONS
    232           */
    233          
    234          /*********************************************************************
    235           * @fn      SampleApp_Init
    236           *
    237           * @brief   Initialization function for the Generic App Task.
    238           *          This is called during initialization and should contain
    239           *          any application specific initialization (ie. hardware
    240           *          initialization/setup, table initialization, power up
    241           *          notificaiton ... ).
    242           *          这是一个用户用于初始任务的函数，它是在系统初始化阶段被调用的，而且
    243           *          在调用它的时候，它里面应该有相应任务的初始化（也就是说，用户有什么
    244           *          初始化，都是放在这个函数里），比如：硬件初始化、数据表初始化、电源
    245           *          初始化等等。
    246           *
    247           * @param   task_id - the ID assigned by OSAL.  This ID should be
    248           *                    used to send messages and set timers.
    249           *
    250           * @return  none
    251           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    252          void SampleApp_Init( uint8 task_id )
   \                     SampleApp_Init:
    253          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 0
   \   000005   E9           MOV     A,R1
   \   000006   FE           MOV     R6,A
    254            SampleApp_TaskID = task_id;
   \   000007   90....       MOV     DPTR,#SampleApp_TaskID
   \   00000A   F0           MOVX    @DPTR,A
    255            SampleApp_NwkState = DEV_INIT;
   \   00000B   90....       MOV     DPTR,#SampleApp_NwkState
   \   00000E   7401         MOV     A,#0x1
   \   000010   F0           MOVX    @DPTR,A
    256            SampleApp_TransID = 0;
   \   000011   90....       MOV     DPTR,#SampleApp_TransID
   \   000014   E4           CLR     A
   \   000015   F0           MOVX    @DPTR,A
    257            
    258          #if defined (ZDO_COORDINATOR) || defined (RTR_NWK) //协调器
    259            osal_memset(coordi, 0, sizeof(dataType_t)*3); //协调器数据变量初始化
    260          #else //终端
    261            osal_memset(&sensor, 0, sizeof(dataType_t)); //传感器数据变量初始化
   \   000016                ; Setup parameters for call to function osal_memset
   \   000016   7C06         MOV     R4,#0x6
   \   000018   FD           MOV     R5,A
   \   000019   F9           MOV     R1,A
   \   00001A   7A..         MOV     R2,#sensor & 0xff
   \   00001C   7B..         MOV     R3,#(sensor >> 8) & 0xff
   \   00001E   12....       LCALL   ??osal_memset?relay  ; Banked call to: osal_memset
    262          #endif
    263            
    264            MT_UartInit(); //串口初始化
   \   000021                ; Setup parameters for call to function MT_UartInit
   \   000021   12....       LCALL   ??MT_UartInit?relay  ; Banked call to: MT_UartInit
    265            MT_UartRegisterTaskID(task_id); //登记任务号
   \   000024                ; Setup parameters for call to function MT_UartRegisterTaskID
   \   000024   EE           MOV     A,R6
   \   000025   F9           MOV     R1,A
   \   000026   12....       LCALL   ??MT_UartRegisterTaskID?relay; Banked call to: MT_UartRegisterTaskID
    266            printf("System init!\n"); //打印开机初始化信息
   \   000029                ; Setup parameters for call to function printf
   \   000029   7A..         MOV     R2,#`?<Constant "System init!\\n">` & 0xff
   \   00002B   7B..         MOV     R3,#(`?<Constant "System init!\\n">` >> 8) & 0xff
   \   00002D   12....       LCALL   ??printf?relay       ; Banked call to: printf
    267            
    268            ADC_Init(); //AD7705初始化，包括初始化SPI1和复位I/O引脚配置
   \   000030                ; Setup parameters for call to function ADC_Init
   \   000030   12....       LCALL   ??ADC_Init?relay     ; Banked call to: ADC_Init
    269            
    270            osal_start_reload_timer( SampleApp_TaskID, SAMPLEAPP_SEND_PERIODIC_MSG_EVT, SAMPLEAPP_SEND_PERIODIC_MSG_TIMEOUT ); //周期5s定时器
   \   000033                ; Setup parameters for call to function osal_start_reload_timer
   \   000033   7C88         MOV     R4,#-0x78
   \   000035   7D13         MOV     R5,#0x13
   \   000037   7A01         MOV     R2,#0x1
   \   000039   7B00         MOV     R3,#0x0
   \   00003B   90....       MOV     DPTR,#SampleApp_TaskID
   \   00003E   E0           MOVX    A,@DPTR
   \   00003F   F9           MOV     R1,A
   \   000040   12....       LCALL   ??osal_start_reload_timer?relay; Banked call to: osal_start_reload_timer
    271            
    272            osal_start_reload_timer( SampleApp_TaskID, SAMPLEAPP_WDT_PERIODIC_MSG_EVT, SAMPLEAPP_FEEDWDT_PERIODIC_TIMEOUT ); //周期500ms定时器
   \   000043                ; Setup parameters for call to function osal_start_reload_timer
   \   000043   7CF4         MOV     R4,#-0xc
   \   000045   7D01         MOV     R5,#0x1
   \   000047   7A02         MOV     R2,#0x2
   \   000049   7B00         MOV     R3,#0x0
   \   00004B   90....       MOV     DPTR,#SampleApp_TaskID
   \   00004E   E0           MOVX    A,@DPTR
   \   00004F   F9           MOV     R1,A
   \   000050   12....       LCALL   ??osal_start_reload_timer?relay; Banked call to: osal_start_reload_timer
    273                      
    274            WDT_Init();//看门狗初始化，放狗
   \   000053                ; Setup parameters for call to function WDT_Init
   \   000053   12....       LCALL   ??WDT_Init?relay     ; Banked call to: WDT_Init
    275            
    276          #if !(defined (ZDO_COORDINATOR)) || !(defined (RTR_NWK)) //终端
    277            /* 初始化保存系统参数的flash区域 */
    278            if(SUCCESS != osal_nv_item_init(DEVICE_ID, DEVICE_ID_LEN, NULL)) //设备ID存入flash区域初始化
   \   000056                ; Setup parameters for call to function osal_nv_item_init
   \   000056   E4           CLR     A
   \   000057   F5..         MOV     ?V0,A
   \   000059   F5..         MOV     ?V1,A
   \   00005B   78..         MOV     R0,#?V0
   \   00005D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000060   7C03         MOV     R4,#0x3
   \   000062   7D00         MOV     R5,#0x0
   \   000064   7A01         MOV     R2,#0x1
   \   000066   7B04         MOV     R3,#0x4
   \   000068   12....       LCALL   ??osal_nv_item_init?relay; Banked call to: osal_nv_item_init
   \   00006B   7402         MOV     A,#0x2
   \   00006D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000070   E9           MOV     A,R1
   \   000071   6007         JZ      ??SampleApp_Init_0
    279              printf("ID flash init failed!!\n");
   \   000073                ; Setup parameters for call to function printf
   \   000073   7A..         MOV     R2,#`?<Constant "ID flash init failed!!\\n">` & 0xff
   \   000075   7B..         MOV     R3,#(`?<Constant "ID flash init failed!!\\n">` >> 8) & 0xff
   \   000077   12....       LCALL   ??printf?relay       ; Banked call to: printf
    280            
    281            if(SUCCESS !=osal_nv_item_init(DEVICE_GH, DEVICE_GH_LEN, NULL)) //设备光合表系数存入flash区域初始化
   \                     ??SampleApp_Init_0:
   \   00007A                ; Setup parameters for call to function osal_nv_item_init
   \   00007A   78..         MOV     R0,#?V0
   \   00007C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00007F   7C05         MOV     R4,#0x5
   \   000081   7D00         MOV     R5,#0x0
   \   000083   7A00         MOV     R2,#0x0
   \   000085   7B05         MOV     R3,#0x5
   \   000087   12....       LCALL   ??osal_nv_item_init?relay; Banked call to: osal_nv_item_init
   \   00008A   7402         MOV     A,#0x2
   \   00008C   12....       LCALL   ?DEALLOC_XSTACK8
   \   00008F   E9           MOV     A,R1
   \   000090   6007         JZ      ??SampleApp_Init_1
    282              printf("GH flash init failed!!\n");
   \   000092                ; Setup parameters for call to function printf
   \   000092   7A..         MOV     R2,#`?<Constant "GH flash init failed!!\\n">` & 0xff
   \   000094   7B..         MOV     R3,#(`?<Constant "GH flash init failed!!\\n">` >> 8) & 0xff
   \   000096   12....       LCALL   ??printf?relay       ; Banked call to: printf
    283            
    284            if(SUCCESS !=osal_nv_item_init(DEVICE_WDDT, DEVICE_WDDT_LEN, NULL)) //设备温度订正值存入flash区域初始化
   \                     ??SampleApp_Init_1:
   \   000099                ; Setup parameters for call to function osal_nv_item_init
   \   000099   78..         MOV     R0,#?V0
   \   00009B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009E   7C05         MOV     R4,#0x5
   \   0000A0   7D00         MOV     R5,#0x0
   \   0000A2   7A00         MOV     R2,#0x0
   \   0000A4   7B06         MOV     R3,#0x6
   \   0000A6   12....       LCALL   ??osal_nv_item_init?relay; Banked call to: osal_nv_item_init
   \   0000A9   7402         MOV     A,#0x2
   \   0000AB   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000AE   E9           MOV     A,R1
   \   0000AF   6007         JZ      ??SampleApp_Init_2
    285              printf("WDDT flash init failed!!\n");
   \   0000B1                ; Setup parameters for call to function printf
   \   0000B1   7A..         MOV     R2,#`?<Constant "WDDT flash init faile...">` & 0xff
   \   0000B3   7B..         MOV     R3,#(`?<Constant "WDDT flash init faile...">` >> 8) & 0xff
   \   0000B5   12....       LCALL   ??printf?relay       ; Banked call to: printf
    286            
    287            /* 终端传感器读入系统初始化参数，设备ID与光合表系数 */
    288            if(SUCCESS == osal_nv_read(DEVICE_ID, 0, DEVICE_ID_LEN, dev_id)) //读入flash中存放的设备ID
   \                     ??SampleApp_Init_2:
   \   0000B8                ; Setup parameters for call to function osal_nv_read
   \   0000B8   75....       MOV     ?V0,#dev_id & 0xff
   \   0000BB   75....       MOV     ?V1,#(dev_id >> 8) & 0xff
   \   0000BE   78..         MOV     R0,#?V0
   \   0000C0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000C3   75..03       MOV     ?V0,#0x3
   \   0000C6   75..00       MOV     ?V1,#0x0
   \   0000C9   78..         MOV     R0,#?V0
   \   0000CB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000CE   7C00         MOV     R4,#0x0
   \   0000D0   7D00         MOV     R5,#0x0
   \   0000D2   7A01         MOV     R2,#0x1
   \   0000D4   7B04         MOV     R3,#0x4
   \   0000D6   12....       LCALL   ??osal_nv_read?relay ; Banked call to: osal_nv_read
   \   0000D9   7404         MOV     A,#0x4
   \   0000DB   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000DE   E9           MOV     A,R1
   \   0000DF   7011         JNZ     ??SampleApp_Init_3
    289              sensor_id = atoi(dev_id);
                                      ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   0000E1                ; Setup parameters for call to function atoi
   \   0000E1   7A..         MOV     R2,#dev_id & 0xff
   \   0000E3   7B..         MOV     R3,#(dev_id >> 8) & 0xff
   \   0000E5   12....       LCALL   ??atoi?relay         ; Banked call to: atoi
   \   0000E8   90....       MOV     DPTR,#sensor_id
   \   0000EB   EA           MOV     A,R2
   \   0000EC   F0           MOVX    @DPTR,A
   \   0000ED   A3           INC     DPTR
   \   0000EE   EB           MOV     A,R3
   \   0000EF   F0           MOVX    @DPTR,A
   \   0000F0   8007         SJMP    ??SampleApp_Init_4
    290            else
    291              printf("ID flash read failed!!\n");
   \                     ??SampleApp_Init_3:
   \   0000F2                ; Setup parameters for call to function printf
   \   0000F2   7A..         MOV     R2,#`?<Constant "ID flash read failed!!\\n">` & 0xff
   \   0000F4   7B..         MOV     R3,#(`?<Constant "ID flash read failed!!\\n">` >> 8) & 0xff
   \   0000F6   12....       LCALL   ??printf?relay       ; Banked call to: printf
    292            
    293            if(SUCCESS == osal_nv_read(DEVICE_GH, 0, DEVICE_GH_LEN, dev_gh)) //读入flash中存放的设备光合表系数
   \                     ??SampleApp_Init_4:
   \   0000F9                ; Setup parameters for call to function osal_nv_read
   \   0000F9   75....       MOV     ?V0,#dev_gh & 0xff
   \   0000FC   75....       MOV     ?V1,#(dev_gh >> 8) & 0xff
   \   0000FF   78..         MOV     R0,#?V0
   \   000101   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000104   75..05       MOV     ?V0,#0x5
   \   000107   75..00       MOV     ?V1,#0x0
   \   00010A   78..         MOV     R0,#?V0
   \   00010C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00010F   7C00         MOV     R4,#0x0
   \   000111   7D00         MOV     R5,#0x0
   \   000113   7A00         MOV     R2,#0x0
   \   000115   7B05         MOV     R3,#0x5
   \   000117   12....       LCALL   ??osal_nv_read?relay ; Banked call to: osal_nv_read
   \   00011A   7404         MOV     A,#0x4
   \   00011C   12....       LCALL   ?DEALLOC_XSTACK8
   \   00011F   E9           MOV     A,R1
   \   000120   7017         JNZ     ??SampleApp_Init_5
    294              gh_factor = atof(dev_gh);
                                      ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000122                ; Setup parameters for call to function atof
   \   000122   7A..         MOV     R2,#dev_gh & 0xff
   \   000124   7B..         MOV     R3,#(dev_gh >> 8) & 0xff
   \   000126   12....       LCALL   ??atof?relay         ; Banked call to: atof
   \   000129   EA           MOV     A,R2
   \   00012A   F8           MOV     R0,A
   \   00012B   EB           MOV     A,R3
   \   00012C   F9           MOV     R1,A
   \   00012D   EC           MOV     A,R4
   \   00012E   FA           MOV     R2,A
   \   00012F   ED           MOV     A,R5
   \   000130   FB           MOV     R3,A
   \   000131   90....       MOV     DPTR,#gh_factor
   \   000134   12....       LCALL   ?XSTORE_R0123
   \   000137   8007         SJMP    ??SampleApp_Init_6
    295            else
    296              printf("GH flash read failed!!\n");
   \                     ??SampleApp_Init_5:
   \   000139                ; Setup parameters for call to function printf
   \   000139   7A..         MOV     R2,#`?<Constant "GH flash read failed!!\\n">` & 0xff
   \   00013B   7B..         MOV     R3,#(`?<Constant "GH flash read failed!!\\n">` >> 8) & 0xff
   \   00013D   12....       LCALL   ??printf?relay       ; Banked call to: printf
    297            
    298            if(SUCCESS == osal_nv_read(DEVICE_WDDT, 0, DEVICE_WDDT_LEN, dev_wddt)) //读入flash中存放的设备温度订正值
   \                     ??SampleApp_Init_6:
   \   000140                ; Setup parameters for call to function osal_nv_read
   \   000140   75....       MOV     ?V0,#dev_wddt & 0xff
   \   000143   75....       MOV     ?V1,#(dev_wddt >> 8) & 0xff
   \   000146   78..         MOV     R0,#?V0
   \   000148   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00014B   75..05       MOV     ?V0,#0x5
   \   00014E   75..00       MOV     ?V1,#0x0
   \   000151   78..         MOV     R0,#?V0
   \   000153   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000156   7C00         MOV     R4,#0x0
   \   000158   7D00         MOV     R5,#0x0
   \   00015A   7A00         MOV     R2,#0x0
   \   00015C   7B06         MOV     R3,#0x6
   \   00015E   12....       LCALL   ??osal_nv_read?relay ; Banked call to: osal_nv_read
   \   000161   7404         MOV     A,#0x4
   \   000163   12....       LCALL   ?DEALLOC_XSTACK8
   \   000166   E9           MOV     A,R1
   \   000167   700F         JNZ     ??SampleApp_Init_7
    299              cal_t0 = atof(dev_wddt);
                                   ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \   000169                ; Setup parameters for call to function atof
   \   000169   7A..         MOV     R2,#dev_wddt & 0xff
   \   00016B   7B..         MOV     R3,#(dev_wddt >> 8) & 0xff
   \   00016D   12....       LCALL   ??atof?relay         ; Banked call to: atof
   \   000170   90....       MOV     DPTR,#cal_t0
   \   000173   12....       LCALL   ?XSTORE_R2345
   \   000176   8007         SJMP    ??SampleApp_Init_8
    300            else
    301              printf("WDDT flash read failed!!\n");
   \                     ??SampleApp_Init_7:
   \   000178                ; Setup parameters for call to function printf
   \   000178   7A..         MOV     R2,#`?<Constant "WDDT flash read faile...">` & 0xff
   \   00017A   7B..         MOV     R3,#(`?<Constant "WDDT flash read faile...">` >> 8) & 0xff
   \   00017C   12....       LCALL   ??printf?relay       ; Banked call to: printf
    302            
    303          #endif
    304            
    305            // Device hardware initialization can be added here or in main() (Zmain.c).
    306            // If the hardware is application specific - add it here.
    307            // If the hardware is other parts of the device add it in main().
    308          
    309           #if defined ( BUILD_ALL_DEVICES )
    310            // The "Demo" target is setup to have BUILD_ALL_DEVICES and HOLD_AUTO_START
    311            // We are looking at a jumper (defined in SampleAppHw.c) to be jumpered
    312            // together - if they are - we will start up a coordinator. Otherwise,
    313            // the device will start as a router.
    314            if ( readCoordinatorJumper() )
    315              zgDeviceLogicalType = ZG_DEVICETYPE_COORDINATOR;
    316            else
    317              zgDeviceLogicalType = ZG_DEVICETYPE_ROUTER;
    318          #endif // BUILD_ALL_DEVICES
    319          
    320          #if defined ( HOLD_AUTO_START )
    321            // HOLD_AUTO_START is a compile option that will surpress ZDApp
    322            //  from starting the device and wait for the application to
    323            //  start the device.
    324            ZDOInitDevice(0);
    325          #endif
    326          
    327            // Setup for the periodic message's destination address
    328            // Broadcast to everyone
    329            SampleApp_Periodic_DstAddr.addrMode = (afAddrMode_t)AddrBroadcast;
   \                     ??SampleApp_Init_8:
   \   00017F   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr + 8
   \   000182   740F         MOV     A,#0xf
   \   000184   F0           MOVX    @DPTR,A
    330            SampleApp_Periodic_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000185   A3           INC     DPTR
   \   000186   7414         MOV     A,#0x14
   \   000188   F0           MOVX    @DPTR,A
    331            SampleApp_Periodic_DstAddr.addr.shortAddr = 0xFFFF;
   \   000189   90....       MOV     DPTR,#SampleApp_Periodic_DstAddr
   \   00018C   74FF         MOV     A,#-0x1
   \   00018E   F0           MOVX    @DPTR,A
   \   00018F   A3           INC     DPTR
   \   000190   F0           MOVX    @DPTR,A
    332          
    333            // Setup for the flash command's destination address - Group 1
    334            SampleApp_Flash_DstAddr.addrMode = (afAddrMode_t)afAddrGroup;
   \   000191   90....       MOV     DPTR,#SampleApp_Flash_DstAddr + 8
   \   000194   7401         MOV     A,#0x1
   \   000196   F0           MOVX    @DPTR,A
    335            SampleApp_Flash_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   000197   A3           INC     DPTR
   \   000198   7414         MOV     A,#0x14
   \   00019A   F0           MOVX    @DPTR,A
    336            SampleApp_Flash_DstAddr.addr.shortAddr = SAMPLEAPP_FLASH_GROUP;
   \   00019B   90....       MOV     DPTR,#SampleApp_Flash_DstAddr
   \   00019E   12....       LCALL   ??Subroutine15_0 & 0xFFFF
    337            
    338            // 网蜂点对点通讯定义
    339            Point_To_Point_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;//点播
   \                     ??CrossCallReturnLabel_37:
   \   0001A1   90....       MOV     DPTR,#Point_To_Point_DstAddr + 8
   \   0001A4   7402         MOV     A,#0x2
   \   0001A6   F0           MOVX    @DPTR,A
    340            Point_To_Point_DstAddr.endPoint = SAMPLEAPP_ENDPOINT;
   \   0001A7   A3           INC     DPTR
   \   0001A8   7414         MOV     A,#0x14
   \   0001AA   F0           MOVX    @DPTR,A
    341            Point_To_Point_DstAddr.addr.shortAddr = 0x0000; //发给协调器
   \   0001AB   90....       MOV     DPTR,#Point_To_Point_DstAddr
   \   0001AE   E4           CLR     A
   \   0001AF   F0           MOVX    @DPTR,A
   \   0001B0   A3           INC     DPTR
   \   0001B1   F0           MOVX    @DPTR,A
    342          
    343            // Fill out the endpoint description.
    344            SampleApp_epDesc.endPoint = SAMPLEAPP_ENDPOINT;
   \   0001B2   90....       MOV     DPTR,#SampleApp_epDesc
   \   0001B5   7414         MOV     A,#0x14
   \   0001B7   F0           MOVX    @DPTR,A
    345            SampleApp_epDesc.task_id = &SampleApp_TaskID;
   \   0001B8   A3           INC     DPTR
   \   0001B9   74..         MOV     A,#SampleApp_TaskID & 0xff
   \   0001BB   F0           MOVX    @DPTR,A
   \   0001BC   A3           INC     DPTR
   \   0001BD   74..         MOV     A,#(SampleApp_TaskID >> 8) & 0xff
   \   0001BF   F0           MOVX    @DPTR,A
    346            SampleApp_epDesc.simpleDesc
    347                      = (SimpleDescriptionFormat_t *)&SampleApp_SimpleDesc;
   \   0001C0   A3           INC     DPTR
   \   0001C1   74..         MOV     A,#SampleApp_SimpleDesc & 0xff
   \   0001C3   F0           MOVX    @DPTR,A
   \   0001C4   A3           INC     DPTR
   \   0001C5   74..         MOV     A,#(SampleApp_SimpleDesc >> 8) & 0xff
   \   0001C7   12....       LCALL   ??Subroutine16_0 & 0xFFFF
    348            SampleApp_epDesc.latencyReq = noLatencyReqs;
    349          
    350            // Register the endpoint description with the AF
    351            afRegister( &SampleApp_epDesc );
   \                     ??CrossCallReturnLabel_36:
   \   0001CA                ; Setup parameters for call to function afRegister
   \   0001CA   7A..         MOV     R2,#SampleApp_epDesc & 0xff
   \   0001CC   7B..         MOV     R3,#(SampleApp_epDesc >> 8) & 0xff
   \   0001CE   12....       LCALL   ??afRegister?relay   ; Banked call to: afRegister
    352          
    353            // Register for all key events - This app will handle all key events
    354            RegisterForKeys( SampleApp_TaskID );
   \   0001D1                ; Setup parameters for call to function RegisterForKeys
   \   0001D1   90....       MOV     DPTR,#SampleApp_TaskID
   \   0001D4   E0           MOVX    A,@DPTR
   \   0001D5   F9           MOV     R1,A
   \   0001D6   12....       LCALL   ??RegisterForKeys?relay; Banked call to: RegisterForKeys
    355          
    356            // By default, all devices start out in Group 1
    357            SampleApp_Group.ID = 0x0001;
   \   0001D9   90....       MOV     DPTR,#SampleApp_Group
   \   0001DC   12....       LCALL   ??Subroutine15_0 & 0xFFFF
    358            osal_memcpy( SampleApp_Group.name, "Group 1", 7  );
   \                     ??CrossCallReturnLabel_38:
   \   0001DF                ; Setup parameters for call to function osal_memcpy
   \   0001DF   75....       MOV     ?V0,#`?<Constant "Group 1">` & 0xff
   \   0001E2   75....       MOV     ?V1,#(`?<Constant "Group 1">` >> 8) & 0xff
   \   0001E5   F5..         MOV     ?V2,A
   \   0001E7   78..         MOV     R0,#?V0
   \   0001E9   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0001EC   7C07         MOV     R4,#0x7
   \   0001EE   7D00         MOV     R5,#0x0
   \   0001F0   7A..         MOV     R2,#(SampleApp_Group + 2) & 0xff
   \   0001F2   7B..         MOV     R3,#((SampleApp_Group + 2) >> 8) & 0xff
   \   0001F4   12....       LCALL   ??osal_memcpy?relay  ; Banked call to: osal_memcpy
   \   0001F7   7403         MOV     A,#0x3
   \   0001F9   12....       LCALL   ?DEALLOC_XSTACK8
    359            aps_AddGroup( SAMPLEAPP_ENDPOINT, &SampleApp_Group );
   \   0001FC                ; Setup parameters for call to function aps_AddGroup
   \   0001FC   7A..         MOV     R2,#SampleApp_Group & 0xff
   \   0001FE   7B..         MOV     R3,#(SampleApp_Group >> 8) & 0xff
   \   000200   7914         MOV     R1,#0x14
   \   000202   12....       LCALL   ??aps_AddGroup?relay ; Banked call to: aps_AddGroup
    360          
    361          #if defined ( LCD_SUPPORTED )
    362            HalLcdWriteString( "SampleApp", HAL_LCD_LINE_1 );
    363          #endif
    364          }
   \   000205   7F03         MOV     R7,#0x3
   \   000207   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine15_0:
   \   000000   7401         MOV     A,#0x1
   \   000002                REQUIRE ??Subroutine16_0
   \   000002                ; // Fall through to label ??Subroutine16_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine16_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   E4           CLR     A
   \   000003   F0           MOVX    @DPTR,A
   \   000004   22           RET
    365          
    366          /*********************************************************************
    367           * @fn      SampleApp_ProcessEvent
    368           *
    369           * @brief   Generic Application Task event processor.  This function
    370           *          is called to process all events for the task.  Events
    371           *          include timers, messages and any other user defined events.
    372           *          事件处理函数（所有的事件都是它管理）
    373           *
    374           * @param   task_id  - The OSAL assigned task ID.
    375           * @param   events - events to process.  This is a bit map and can
    376           *                   contain more than one event.
    377           *
    378           * @return  none
    379           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    380          uint16 SampleApp_ProcessEvent( uint8 task_id, uint16 events )
   \                     SampleApp_ProcessEvent:
    381          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   EA           MOV     A,R2
   \   000011   F0           MOVX    @DPTR,A
   \   000012   A3           INC     DPTR
   \   000013   EB           MOV     A,R3
   \   000014   F0           MOVX    @DPTR,A
    382            afIncomingMSGPacket_t *MSGpkt;
    383            (void)task_id;  // Intentionally unreferenced parameter
    384          
    385            if ( events & SYS_EVENT_MSG )
   \   000015   5480         ANL     A,#0x80
   \   000017   7003         JNZ     $+5
   \   000019   02....       LJMP    ??SampleApp_ProcessEvent_0 & 0xFFFF
    386            {
    387              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   00001C                ; Setup parameters for call to function osal_msg_receive
   \   00001C   801C         SJMP    ??SampleApp_ProcessEvent_1
    388              while ( MSGpkt )
    389              {
    390                switch ( MSGpkt->hdr.event )
    391                {
    392                  case CMD_SERIAL_MSG: //串口收到数据后由 MT_UART 层传递过来的数据，用网蜂方法接收，编译时不定义 MT相关内容 
    393                    SampleApp_SerialCMD((mtOSALSerialData_t *)MSGpkt);
    394                    break;
    395          
    396                  // Received when a messages is received (OTA) for this endpoint
    397                  case AF_INCOMING_MSG_CMD: //无线数据接收
    398                    SampleApp_MessageMSGCB( MSGpkt );
    399                    break;
    400          
    401                  // Received whenever the device changes state in the network
    402                  case ZDO_STATE_CHANGE:
    403                    SampleApp_NwkState = (devStates_t)(MSGpkt->hdr.status);
    404                    if ( (SampleApp_NwkState == DEV_ZB_COORD)
    405                        || (SampleApp_NwkState == DEV_ROUTER)
    406                        || (SampleApp_NwkState == DEV_END_DEVICE) ) //网络连接成功
    407                    {
    408                      printf("NET SUCCESS!\r\n");
    409                      switch(SampleApp_NwkState)   //根据_NIB结构中的内容得到设备的短地址、父节点短地址、信道号和网络PanID，并通过串口打印出去
    410                      {
    411                      case DEV_ROUTER:  //路由器节点
    412                        printf("Router:0x%04X\r\nParent:0x%04X\r\nChannel:%d\r\nPanID:0x%04X\r\n",
    413                                _NIB.nwkDevAddress,_NIB.nwkCoordAddress,_NIB.nwkLogicalChannel,_NIB.nwkPanId);
    414          
    415                        printf("IEEE:%02X%02X%02X%02X%02X%02X%02X%02X\r\n",      //IEEE地址
    416                                aExtendedAddress[7],aExtendedAddress[6],aExtendedAddress[5],aExtendedAddress[4],
    417                                aExtendedAddress[3],aExtendedAddress[2],aExtendedAddress[1],aExtendedAddress[0]);
    418          
    419                        printf("Parent IEEE:%02X%02X%02X%02X%02X%02X%02X%02X\r\n",      //父节点IEEE地址
    420                                _NIB.nwkCoordExtAddress[7],_NIB.nwkCoordExtAddress[6],_NIB.nwkCoordExtAddress[5],_NIB.nwkCoordExtAddress[4],
    421                                _NIB.nwkCoordExtAddress[3],_NIB.nwkCoordExtAddress[2],_NIB.nwkCoordExtAddress[1],_NIB.nwkCoordExtAddress[0]);
    422          
    423                        break;
    424                      case DEV_END_DEVICE: //终端节点
    425                        printf("EndDevice:0x%04X\r\nParent:0x%04X\r\nChannel:%d\r\nPanID:0x%04X\r\n",
    426                                _NIB.nwkDevAddress,_NIB.nwkCoordAddress,_NIB.nwkLogicalChannel,_NIB.nwkPanId);
    427          
    428                        printf("IEEE:%02X%02X%02X%02X%02X%02X%02X%02X\r\n",      //IEEE地址
    429                                aExtendedAddress[7],aExtendedAddress[6],aExtendedAddress[5],aExtendedAddress[4],
    430                                aExtendedAddress[3],aExtendedAddress[2],aExtendedAddress[1],aExtendedAddress[0]);
    431          
    432                        printf("Parent IEEE:%02X%02X%02X%02X%02X%02X%02X%02X\r\n",      //父节点IEEE地址
    433                                _NIB.nwkCoordExtAddress[7],_NIB.nwkCoordExtAddress[6],_NIB.nwkCoordExtAddress[5],_NIB.nwkCoordExtAddress[4],
    434                                _NIB.nwkCoordExtAddress[3],_NIB.nwkCoordExtAddress[2],_NIB.nwkCoordExtAddress[1],_NIB.nwkCoordExtAddress[0]);
    435          
    436                        break;
    437                      case DEV_ZB_COORD:  //协调器
    438                        printf("Coordinator:0x%04X\r\nChannel:%d\r\nPanID:0x%04X\r\n",
    439                                _NIB.nwkDevAddress,_NIB.nwkLogicalChannel,_NIB.nwkPanId);
    440          
    441                        printf("IEEE:%02X%02X%02X%02X%02X%02X%02X%02X\r\n",      //IEEE地址
    442                                aExtendedAddress[7],aExtendedAddress[6],aExtendedAddress[5],aExtendedAddress[4],
    443                                aExtendedAddress[3],aExtendedAddress[2],aExtendedAddress[1],aExtendedAddress[0]);
    444          
    445                        break;
    446                      default:
    447                        break;
    448                      }
    449                    }
    450                    else
    451                    {
    452                      // Device is no longer in the network
    453                      printf("NO NET\r\n");
   \                     ??SampleApp_ProcessEvent_2:
   \   00001E                ; Setup parameters for call to function printf
   \   00001E   7A..         MOV     R2,#`?<Constant "NO NET\\r\\n">` & 0xff
   \   000020   7B..         MOV     R3,#(`?<Constant "NO NET\\r\\n">` >> 8) & 0xff
   \   000022   12....       LCALL   ??printf?relay       ; Banked call to: printf
    454                      
    455          #if (!defined (ZDO_COORDINATOR)) && (!defined (RTR_NWK))  //终端节点          
    456                      orphan++;  //孤立累计
   \   000025   90....       MOV     DPTR,#orphan
   \   000028   E0           MOVX    A,@DPTR
   \   000029   04           INC     A
   \   00002A   F0           MOVX    @DPTR,A
    457                      if(orphan>ORPHAN_MAX)  //超过指定次数入网失败则重启设备
   \   00002B   C3           CLR     C
   \   00002C   943D         SUBB    A,#0x3d
   \   00002E   4003         JC      ??CrossCallReturnLabel_40
    458                      {
    459                        rs_flag = 1; //停止喂狗，致使系统复位
   \   000030   12....       LCALL   ?Subroutine5 & 0xFFFF
    460                      }
    461          #endif //终端
    462                    }
    463                    break;
    464          
    465                  default:
    466                    break;
    467                }
    468          
    469                // Release the memory
    470                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??CrossCallReturnLabel_40:
   \   000033                ; Setup parameters for call to function osal_msg_deallocate
   \   000033   EE           MOV     A,R6
   \   000034   FA           MOV     R2,A
   \   000035   EF           MOV     A,R7
   \   000036   FB           MOV     R3,A
   \   000037   12....       LCALL   ??osal_msg_deallocate?relay; Banked call to: osal_msg_deallocate
    471          
    472                // Next - if one is available
    473                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( SampleApp_TaskID );
   \   00003A                ; Setup parameters for call to function osal_msg_receive
   \                     ??SampleApp_ProcessEvent_1:
   \   00003A   90....       MOV     DPTR,#SampleApp_TaskID
   \   00003D   E0           MOVX    A,@DPTR
   \   00003E   F9           MOV     R1,A
   \   00003F   12....       LCALL   ??osal_msg_receive?relay; Banked call to: osal_msg_receive
   \   000042   8A..         MOV     ?V0,R2
   \   000044   8B..         MOV     ?V1,R3
   \   000046   AE..         MOV     R6,?V0
   \   000048   AF..         MOV     R7,?V1
   \   00004A   EE           MOV     A,R6
   \   00004B   4F           ORL     A,R7
   \   00004C   7003         JNZ     $+5
   \   00004E   02....       LJMP    ??SampleApp_ProcessEvent_3 & 0xFFFF
   \   000051   8E82         MOV     DPL,R6
   \   000053   8F83         MOV     DPH,R7
   \   000055   E0           MOVX    A,@DPTR
   \   000056   14           DEC     A
   \   000057   600A         JZ      ??SampleApp_ProcessEvent_4
   \   000059   24E7         ADD     A,#-0x19
   \   00005B   600F         JZ      ??SampleApp_ProcessEvent_5
   \   00005D   2449         ADD     A,#0x49
   \   00005F   6014         JZ      ??SampleApp_ProcessEvent_6
   \   000061   80D0         SJMP    ??CrossCallReturnLabel_40
   \                     ??SampleApp_ProcessEvent_4:
   \   000063                ; Setup parameters for call to function SampleApp_SerialCMD
   \   000063   EE           MOV     A,R6
   \   000064   FA           MOV     R2,A
   \   000065   EF           MOV     A,R7
   \   000066   FB           MOV     R3,A
   \   000067   12....       LCALL   ??SampleApp_SerialCMD?relay; Banked call to: SampleApp_SerialCMD
   \   00006A   80C7         SJMP    ??CrossCallReturnLabel_40
   \                     ??SampleApp_ProcessEvent_5:
   \   00006C                ; Setup parameters for call to function SampleApp_MessageMSGCB
   \   00006C   EE           MOV     A,R6
   \   00006D   FA           MOV     R2,A
   \   00006E   EF           MOV     A,R7
   \   00006F   FB           MOV     R3,A
   \   000070   12....       LCALL   ??SampleApp_MessageMSGCB?relay; Banked call to: SampleApp_MessageMSGCB
   \   000073   80BE         SJMP    ??CrossCallReturnLabel_40
   \                     ??SampleApp_ProcessEvent_6:
   \   000075   A3           INC     DPTR
   \   000076   E0           MOVX    A,@DPTR
   \   000077   90....       MOV     DPTR,#SampleApp_NwkState
   \   00007A   F0           MOVX    @DPTR,A
   \   00007B   6409         XRL     A,#0x9
   \   00007D   600A         JZ      ??SampleApp_ProcessEvent_7
   \   00007F   E0           MOVX    A,@DPTR
   \   000080   6407         XRL     A,#0x7
   \   000082   6005         JZ      ??SampleApp_ProcessEvent_7
   \   000084   E0           MOVX    A,@DPTR
   \   000085   6406         XRL     A,#0x6
   \   000087   7095         JNZ     ??SampleApp_ProcessEvent_2
   \                     ??SampleApp_ProcessEvent_7:
   \   000089                ; Setup parameters for call to function printf
   \   000089   7A..         MOV     R2,#`?<Constant "NET SUCCESS!\\r\\n">` & 0xff
   \   00008B   7B..         MOV     R3,#(`?<Constant "NET SUCCESS!\\r\\n">` >> 8) & 0xff
   \   00008D   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   000090   90....       MOV     DPTR,#SampleApp_NwkState
   \   000093   E0           MOVX    A,@DPTR
   \   000094   24FA         ADD     A,#-0x6
   \   000096   7003         JNZ     $+5
   \   000098   02....       LJMP    ??SampleApp_ProcessEvent_8 & 0xFFFF
   \   00009B   14           DEC     A
   \   00009C   6009         JZ      ??SampleApp_ProcessEvent_9
   \   00009E   24FE         ADD     A,#-0x2
   \   0000A0   7003         JNZ     $+5
   \   0000A2   02....       LJMP    ??SampleApp_ProcessEvent_10 & 0xFFFF
   \   0000A5   808C         SJMP    ??CrossCallReturnLabel_40
   \                     ??SampleApp_ProcessEvent_9:
   \   0000A7                ; Setup parameters for call to function printf
   \   0000A7   90....       MOV     DPTR,#_NIB + 33
   \   0000AA   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0000AD   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_3:
   \   0000B0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B3   90....       MOV     DPTR,#_NIB + 23
   \   0000B6   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0000B9   90....       MOV     DPTR,#_NIB + 20
   \   0000BC   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0000BF   7A..         MOV     R2,#`?<Constant "Router:0x%04X\\r\\nParent...">` & 0xff
   \   0000C1   7B..         MOV     R3,#(`?<Constant "Router:0x%04X\\r\\nParent...">` >> 8) & 0xff
   \                     ??SampleApp_ProcessEvent_11:
   \   0000C3   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   0000C6   7408         MOV     A,#0x8
   \   0000C8   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000CB                ; Setup parameters for call to function printf
   \   0000CB   12....       LCALL   ?Subroutine6 & 0xFFFF
   \                     ??CrossCallReturnLabel_31:
   \   0000CE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000D1   90....       MOV     DPTR,#aExtendedAddress + 1
   \   0000D4   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_9:
   \   0000D7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000DA   90....       MOV     DPTR,#aExtendedAddress + 2
   \   0000DD   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_10:
   \   0000E0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E3   90....       MOV     DPTR,#aExtendedAddress + 3
   \   0000E6   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_11:
   \   0000E9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000EC   90....       MOV     DPTR,#aExtendedAddress + 4
   \   0000EF   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_12:
   \   0000F2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000F5   90....       MOV     DPTR,#aExtendedAddress + 5
   \   0000F8   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_13:
   \   0000FB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000FE   90....       MOV     DPTR,#aExtendedAddress + 6
   \   000101   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_14:
   \   000104   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000107   90....       MOV     DPTR,#aExtendedAddress + 7
   \   00010A   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_15:
   \   00010D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000110   7A..         MOV     R2,#`?<Constant "IEEE:%02X%02X%02X%02X...">` & 0xff
   \   000112   7B..         MOV     R3,#(`?<Constant "IEEE:%02X%02X%02X%02X...">` >> 8) & 0xff
   \   000114   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   000117   7410         MOV     A,#0x10
   \   000119   12....       LCALL   ?DEALLOC_XSTACK8
   \   00011C                ; Setup parameters for call to function printf
   \   00011C   90....       MOV     DPTR,#_NIB + 25
   \   00011F   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_16:
   \   000122   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000125   90....       MOV     DPTR,#_NIB + 26
   \   000128   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_17:
   \   00012B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00012E   90....       MOV     DPTR,#_NIB + 27
   \   000131   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_18:
   \   000134   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000137   90....       MOV     DPTR,#_NIB + 28
   \   00013A   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_19:
   \   00013D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000140   90....       MOV     DPTR,#_NIB + 29
   \   000143   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_20:
   \   000146   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000149   90....       MOV     DPTR,#_NIB + 30
   \   00014C   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_21:
   \   00014F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000152   90....       MOV     DPTR,#_NIB + 31
   \   000155   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_22:
   \   000158   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00015B   90....       MOV     DPTR,#_NIB + 32
   \   00015E   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   000161   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000164   7A..         MOV     R2,#`?<Constant "Parent IEEE:%02X%02X%...">` & 0xff
   \   000166   7B..         MOV     R3,#(`?<Constant "Parent IEEE:%02X%02X%...">` >> 8) & 0xff
   \                     ??SampleApp_ProcessEvent_12:
   \   000168   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   00016B   7410         MOV     A,#0x10
   \   00016D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000170   02....       LJMP    ??CrossCallReturnLabel_40 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_8:
   \   000173                ; Setup parameters for call to function printf
   \   000173   90....       MOV     DPTR,#_NIB + 33
   \   000176   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000179   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_4:
   \   00017C   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00017F   90....       MOV     DPTR,#_NIB + 23
   \   000182   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000185   90....       MOV     DPTR,#_NIB + 20
   \   000188   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00018B   7A..         MOV     R2,#`?<Constant "EndDevice:0x%04X\\r\\nPar...">` & 0xff
   \   00018D   7B..         MOV     R3,#(`?<Constant "EndDevice:0x%04X\\r\\nPar...">` >> 8) & 0xff
   \   00018F   02....       LJMP    ??SampleApp_ProcessEvent_11 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_10:
   \   000192                ; Setup parameters for call to function printf
   \   000192   90....       MOV     DPTR,#_NIB + 33
   \   000195   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000198   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_5:
   \   00019B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00019E   90....       MOV     DPTR,#_NIB + 20
   \   0001A1   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0001A4   7A..         MOV     R2,#`?<Constant "Coordinator:0x%04X\\r\\nC...">` & 0xff
   \   0001A6   7B..         MOV     R3,#(`?<Constant "Coordinator:0x%04X\\r\\nC...">` >> 8) & 0xff
   \   0001A8   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   0001AB   7406         MOV     A,#0x6
   \   0001AD   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001B0                ; Setup parameters for call to function printf
   \   0001B0   12....       LCALL   ?Subroutine6 & 0xFFFF
    474              }
   \                     ??CrossCallReturnLabel_32:
   \   0001B3   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001B6   90....       MOV     DPTR,#aExtendedAddress + 1
   \   0001B9   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   0001BC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001BF   90....       MOV     DPTR,#aExtendedAddress + 2
   \   0001C2   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   0001C5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001C8   90....       MOV     DPTR,#aExtendedAddress + 3
   \   0001CB   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_26:
   \   0001CE   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001D1   90....       MOV     DPTR,#aExtendedAddress + 4
   \   0001D4   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_27:
   \   0001D7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001DA   90....       MOV     DPTR,#aExtendedAddress + 5
   \   0001DD   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_28:
   \   0001E0   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001E3   90....       MOV     DPTR,#aExtendedAddress + 6
   \   0001E6   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   0001E9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001EC   90....       MOV     DPTR,#aExtendedAddress + 7
   \   0001EF   12....       LCALL   ??Subroutine12_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_30:
   \   0001F2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001F5   7A..         MOV     R2,#`?<Constant "IEEE:%02X%02X%02X%02X...">` & 0xff
   \   0001F7   7B..         MOV     R3,#(`?<Constant "IEEE:%02X%02X%02X%02X...">` >> 8) & 0xff
   \   0001F9   02....       LJMP    ??SampleApp_ProcessEvent_12 & 0xFFFF
    475          
    476              // return unprocessed events
    477              return (events ^ SYS_EVENT_MSG);
   \                     ??SampleApp_ProcessEvent_3:
   \   0001FC   85..82       MOV     DPL,?XSP + 0
   \   0001FF   85..83       MOV     DPH,?XSP + 1
   \   000202   E0           MOVX    A,@DPTR
   \   000203   FA           MOV     R2,A
   \   000204   A3           INC     DPTR
   \   000205   E0           MOVX    A,@DPTR
   \   000206   6480         XRL     A,#0x80
   \   000208   02....       LJMP    ??SampleApp_ProcessEvent_13 & 0xFFFF
    478            }
    479          
    480            // Send a message out - This event is generated by a timer
    481            //  (setup in SampleApp_Init()).
    482            /* AD采样事件处理，终端传感器数据采集和发送往协调器 */
    483            if ( events & SAMPLEAPP_ADC_MEA_EVT )
   \                     ??SampleApp_ProcessEvent_0:
   \   00020B   85..82       MOV     DPL,?XSP + 0
   \   00020E   85..83       MOV     DPH,?XSP + 1
   \   000211   E0           MOVX    A,@DPTR
   \   000212   5404         ANL     A,#0x4
   \   000214   7003         JNZ     $+5
   \   000216   02....       LJMP    ??SampleApp_ProcessEvent_14 & 0xFFFF
    484            {
    485              int numbers;
    486              static uint16 res_std;
    487              uint16 res_t0,res_u,res_gh;
    488              float temp;
    489              
    490              
    491           #if !(defined (ZDO_COORDINATOR)) && !(defined (RTR_NWK)) //终端
    492              /* 终端数据采集处理 */
    493              switch(adc_state)
   \   000219   90....       MOV     DPTR,#adc_state
   \   00021C   E0           MOVX    A,@DPTR
   \   00021D   601A         JZ      ??SampleApp_ProcessEvent_15
   \   00021F   14           DEC     A
   \   000220   7003         JNZ     $+5
   \   000222   02....       LJMP    ??SampleApp_ProcessEvent_16 & 0xFFFF
   \   000225   14           DEC     A
   \   000226   7003         JNZ     $+5
   \   000228   02....       LJMP    ??SampleApp_ProcessEvent_17 & 0xFFFF
   \   00022B   14           DEC     A
   \   00022C   7003         JNZ     $+5
   \   00022E   02....       LJMP    ??SampleApp_ProcessEvent_18 & 0xFFFF
   \   000231   14           DEC     A
   \   000232   7003         JNZ     $+5
   \   000234   02....       LJMP    ??SampleApp_ProcessEvent_19 & 0xFFFF
   \   000237   8021         SJMP    ??SampleApp_ProcessEvent_20
    494              {
    495                case START: //开始测量
    496                      ADC_MeasureStart(STDR_CHANNEL, 0, 3, TRUE); //标准电阻AD转换开始    
   \                     ??SampleApp_ProcessEvent_15:
   \   000239                ; Setup parameters for call to function ADC_MeasureStart
   \   000239   7C01         MOV     R4,#0x1
   \   00023B   7B03         MOV     R3,#0x3
   \   00023D   7A00         MOV     R2,#0x0
   \   00023F   7900         MOV     R1,#0x0
   \   000241   12....       LCALL   ??ADC_MeasureStart?relay; Banked call to: ADC_MeasureStart
    497                      adc_state = READY1; //进入下一状态
   \   000244   90....       MOV     DPTR,#adc_state
   \   000247   7401         MOV     A,#0x1
   \                     ??SampleApp_ProcessEvent_21:
   \   000249   F0           MOVX    @DPTR,A
    498                      osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ADC_MEA_EVT,SAMPLEAPP_ADC_MEA_TIMEOUT ); //200ms定时器事件，用于等待ADC转换完成
   \   00024A                ; Setup parameters for call to function osal_start_timerEx
   \   00024A   7CC8         MOV     R4,#-0x38
   \   00024C   7D00         MOV     R5,#0x0
   \   00024E   7A04         MOV     R2,#0x4
   \                     ??SampleApp_ProcessEvent_22:
   \   000250   7B00         MOV     R3,#0x0
   \   000252   90....       MOV     DPTR,#SampleApp_TaskID
   \   000255   E0           MOVX    A,@DPTR
   \   000256   F9           MOV     R1,A
   \   000257   12....       LCALL   ??osal_start_timerEx?relay; Banked call to: osal_start_timerEx
    499                      break;
    500                      
    501                case READY1: //标准电阻AD采样值读取，开启温度ADC转换
    502                      res_std = ADC_ReadData(0);
    503                      ADC_MeasureStart(T0_CHANNEL, 0, 3, TRUE); //温度AD转换开始             
    504                      adc_state = READY2; //进入下一状态
    505                      osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ADC_MEA_EVT,SAMPLEAPP_ADC_MEA_TIMEOUT ); //200ms定时器事件，用于等待ADC转换完成
    506                      break;
    507                      
    508                case READY2: //温度AD采样值读取，开启湿度ADC转换
    509                      res_t0 = ADC_ReadData(0);
    510                      ADC_MeasureStart(U_CHANNEL, 0, 0, TRUE); //湿度AD转换开始
    511                      
    512                      if(res_std==0) //防止除数为零
    513                      {
    514                        res_std = 1;
    515                      }            
    516                      temp = (float)res_t0/(float)res_std*100;
    517                      temp = CalculateTemp(temp) + cal_t0 + CAL_T0_CONSTANT; //加上温度校准值
    518                      
    519                      temp = temp*10; //放大十倍，四舍五入
    520                      if(temp<0)
    521                      {
    522                        temp -= 0.5; 
    523                      }
    524                      else
    525                      {
    526                        temp += 0.5;
    527                      }
    528                       
    529                      sensor.temperature = temp;
                                                ^
Warning[Pa093]: implicit conversion from floating point to integer
    530                      
    531                      if(debug)
    532                      {
    533                        printf("\r\nres_std=%u,res_t0=%u,temper=%5.2f\r\n", res_std, res_t0, temp/10);
    534                      }
    535                      
    536                      adc_state = READY3; //进入下一状态
    537                      osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ADC_MEA_EVT,SAMPLEAPP_ADC_MEA_TIMEOUT ); //200ms定时器事件，用于等待ADC转换完成
    538                      break;
    539                      
    540                case READY3: //湿度AD采样值读取，开启光合量ADC转换
    541                      res_u = ADC_ReadData(0);
    542                      ADC_MeasureStart(GH_CHANNEL, 0, 3, TRUE); //光合量AD转换开始 ，增益8倍          
    543                      sensor.humidity = (float)res_u/65535*AD_VREF*100 + 0.5;
                                             ^
Warning[Pa093]: implicit conversion from floating point to integer
    544                      
    545                      if(debug)
    546                      {
    547                        printf("\r\nres_u=%u,humidity=%d\r\n", res_u, sensor.humidity);
    548                      }
    549                      
    550                      adc_state = READY4; //进入下一状态
    551                      osal_start_timerEx( SampleApp_TaskID, SAMPLEAPP_ADC_MEA_EVT,SAMPLEAPP_ADC_MEA_TIMEOUT ); //200ms定时器事件，用于等待ADC转换完成
    552                      break;
    553                      
    554                case READY4: //光合量AD采样值读取，转换完成
    555                      res_gh = ADC_ReadData(0);
    556                      temp = (float)res_gh/65535*AD_VREF/8*1000; //乘1000电压单位转换为mV
    557                      sensor.photosyn = CalculateRadiation(temp, gh_factor) + 0.5 + CAL_GH; //加上光合整体订正值
                                             ^
Warning[Pa093]: implicit conversion from floating point to integer
    558                      if(debug)
    559                      {
    560                        printf("\r\nres_gh=%u,guanghe=%d\r\n", res_gh, sensor.photosyn);
    561                      }
    562                      adc_done = TRUE;
    563                      break;
    564              }
    565              
    566              if(adc_done) //测量转换完成，数据处理发送
   \                     ??SampleApp_ProcessEvent_20:
   \   00025A   90....       MOV     DPTR,#adc_done
   \   00025D   E0           MOVX    A,@DPTR
   \   00025E   6060         JZ      ??SampleApp_ProcessEvent_23
    567              {
    568                    
    569                adc_state = START; //初始化
   \                     ??SampleApp_ProcessEvent_24:
   \   000260   90....       MOV     DPTR,#adc_state
   \   000263   E4           CLR     A
   \   000264   F0           MOVX    @DPTR,A
    570                
    571                adc_done = FALSE; //清零，为下次转换做准备
   \   000265   90....       MOV     DPTR,#adc_done
   \   000268   F0           MOVX    @DPTR,A
    572                
    573                numbers = sprintf(data_sensor, "BG,ID%03u,%04d,%03d,%04d,ED\r\n", sensor_id, 
    574                                  sensor.temperature, sensor.humidity, sensor.photosyn);
   \   000269                ; Setup parameters for call to function sprintf
   \   000269   90....       MOV     DPTR,#sensor + 4
   \   00026C   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00026F   90....       MOV     DPTR,#sensor + 2
   \   000272   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000275   90....       MOV     DPTR,#sensor
   \   000278   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00027B   90....       MOV     DPTR,#sensor_id
   \   00027E   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000281   7C..         MOV     R4,#`?<Constant "BG,ID%03u,%04d,%03d,%...">` & 0xff
   \   000283   7D..         MOV     R5,#(`?<Constant "BG,ID%03u,%04d,%03d,%...">` >> 8) & 0xff
   \   000285   7A..         MOV     R2,#data_sensor & 0xff
   \   000287   7B..         MOV     R3,#(data_sensor >> 8) & 0xff
   \   000289   12....       LCALL   ??sprintf?relay      ; Banked call to: sprintf
   \   00028C   7408         MOV     A,#0x8
   \   00028E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000291   8A..         MOV     ?V0,R2
   \   000293   8B..         MOV     ?V1,R3
   \   000295   AE..         MOV     R6,?V0
   \   000297   AF..         MOV     R7,?V1
    575                
    576                /* 终端数据发送 */
    577                if(debug)
   \   000299   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   00029C   6017         JZ      ??SampleApp_ProcessEvent_25
    578                {
    579                  printf("\r\n%s", data_sensor);
   \   00029E                ; Setup parameters for call to function printf
   \   00029E   75....       MOV     ?V0,#data_sensor & 0xff
   \   0002A1   75....       MOV     ?V1,#(data_sensor >> 8) & 0xff
   \   0002A4   78..         MOV     R0,#?V0
   \   0002A6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002A9   7A..         MOV     R2,#`?<Constant "\\r\\n%s">` & 0xff
   \   0002AB   7B..         MOV     R3,#(`?<Constant "\\r\\n%s">` >> 8) & 0xff
   \   0002AD   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   0002B0   7402         MOV     A,#0x2
   \   0002B2   12....       LCALL   ?DEALLOC_XSTACK8
    580                }
    581                
    582                SampleApp_SendPointToPointMessage(data_sensor, numbers); //点对点发送函数,终端传感器数据发往协调器
   \                     ??SampleApp_ProcessEvent_25:
   \   0002B5                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   0002B5   EE           MOV     A,R6
   \   0002B6   FC           MOV     R4,A
   \   0002B7   EF           MOV     A,R7
   \   0002B8   FD           MOV     R5,A
   \   0002B9   7A..         MOV     R2,#data_sensor & 0xff
   \   0002BB   7B..         MOV     R3,#(data_sensor >> 8) & 0xff
   \   0002BD   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay; Banked call to: SampleApp_SendPointToPointMessage
    583              }
    584          #endif
    585          
    586              // return unprocessed events
    587              return (events ^ SAMPLEAPP_ADC_MEA_EVT);
   \                     ??SampleApp_ProcessEvent_23:
   \   0002C0   85..82       MOV     DPL,?XSP + 0
   \   0002C3   85..83       MOV     DPH,?XSP + 1
   \   0002C6   E0           MOVX    A,@DPTR
   \   0002C7   6404         XRL     A,#0x4
   \   0002C9   02....       LJMP    ??SampleApp_ProcessEvent_26 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_16:
   \   0002CC                ; Setup parameters for call to function ADC_ReadData
   \   0002CC   7900         MOV     R1,#0x0
   \   0002CE   12....       LCALL   ??ADC_ReadData?relay ; Banked call to: ADC_ReadData
   \   0002D1   90....       MOV     DPTR,#??res_std
   \   0002D4   EA           MOV     A,R2
   \   0002D5   F0           MOVX    @DPTR,A
   \   0002D6   A3           INC     DPTR
   \   0002D7   EB           MOV     A,R3
   \   0002D8   F0           MOVX    @DPTR,A
   \   0002D9                ; Setup parameters for call to function ADC_MeasureStart
   \   0002D9   7C01         MOV     R4,#0x1
   \   0002DB   7B03         MOV     R3,#0x3
   \   0002DD   7A00         MOV     R2,#0x0
   \   0002DF   7901         MOV     R1,#0x1
   \   0002E1   12....       LCALL   ??ADC_MeasureStart?relay; Banked call to: ADC_MeasureStart
   \   0002E4   90....       MOV     DPTR,#adc_state
   \   0002E7   7402         MOV     A,#0x2
   \   0002E9   02....       LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_17:
   \   0002EC                ; Setup parameters for call to function ADC_ReadData
   \   0002EC   7900         MOV     R1,#0x0
   \   0002EE   12....       LCALL   ??ADC_ReadData?relay ; Banked call to: ADC_ReadData
   \   0002F1   8A..         MOV     ?V0,R2
   \   0002F3   8B..         MOV     ?V1,R3
   \   0002F5   AE..         MOV     R6,?V0
   \   0002F7   AF..         MOV     R7,?V1
   \   0002F9                ; Setup parameters for call to function ADC_MeasureStart
   \   0002F9   7C01         MOV     R4,#0x1
   \   0002FB   7B00         MOV     R3,#0x0
   \   0002FD   7A00         MOV     R2,#0x0
   \   0002FF   7902         MOV     R1,#0x2
   \   000301   12....       LCALL   ??ADC_MeasureStart?relay; Banked call to: ADC_MeasureStart
   \   000304   90....       MOV     DPTR,#??res_std
   \   000307   12....       LCALL   ??Subroutine18_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_48:
   \   00030A   7006         JNZ     ??CrossCallReturnLabel_39
   \   00030C   90....       MOV     DPTR,#??res_std
   \   00030F   12....       LCALL   ??Subroutine15_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   000312                ; Setup parameters for call to function CalculateTemp
   \   000312   E4           CLR     A
   \   000313   F5..         MOV     ?V2,A
   \   000315   F5..         MOV     ?V3,A
   \   000317   78..         MOV     R0,#?V0
   \   000319   12....       LCALL   ?UL_TO_FLT
   \   00031C   90....       MOV     DPTR,#??res_std
   \   00031F   E0           MOVX    A,@DPTR
   \   000320   F5..         MOV     ?V4,A
   \   000322   A3           INC     DPTR
   \   000323   E0           MOVX    A,@DPTR
   \   000324   F5..         MOV     ?V5,A
   \   000326   E4           CLR     A
   \   000327   F5..         MOV     ?V6,A
   \   000329   F5..         MOV     ?V7,A
   \   00032B   78..         MOV     R0,#?V4
   \   00032D   12....       LCALL   ?UL_TO_FLT
   \   000330   78..         MOV     R0,#?V0
   \   000332   79..         MOV     R1,#?V4
   \   000334   12....       LCALL   ?FLT_DIV
   \   000337   90....       MOV     DPTR,#__Constant_42c80000
   \   00033A   78..         MOV     R0,#?V4
   \   00033C   12....       LCALL   ?L_MOV_X
   \   00033F   78..         MOV     R0,#?V0
   \   000341   79..         MOV     R1,#?V4
   \   000343   12....       LCALL   ?FLT_MUL
   \   000346   AA..         MOV     R2,?V0
   \   000348   AB..         MOV     R3,?V1
   \   00034A   AC..         MOV     R4,?V2
   \   00034C   AD..         MOV     R5,?V3
   \   00034E   12....       LCALL   ??CalculateTemp?relay; Banked call to: CalculateTemp
   \   000351   8A..         MOV     ?V0,R2
   \   000353   8B..         MOV     ?V1,R3
   \   000355   8C..         MOV     ?V2,R4
   \   000357   8D..         MOV     ?V3,R5
   \   000359   90....       MOV     DPTR,#cal_t0
   \   00035C   78..         MOV     R0,#?V4
   \   00035E   12....       LCALL   ?L_MOV_X
   \   000361   78..         MOV     R0,#?V0
   \   000363   79..         MOV     R1,#?V4
   \   000365   12....       LCALL   ?FLT_ADD
   \   000368   90....       MOV     DPTR,#__Constant_3e4ccccd
   \   00036B   78..         MOV     R0,#?V4
   \   00036D   12....       LCALL   ?L_MOV_X
   \   000370   78..         MOV     R0,#?V0
   \   000372   79..         MOV     R1,#?V4
   \   000374   12....       LCALL   ?FLT_ADD
   \   000377   90....       MOV     DPTR,#__Constant_41200000
   \   00037A   78..         MOV     R0,#?V4
   \   00037C   12....       LCALL   ?L_MOV_X
   \   00037F   78..         MOV     R0,#?V0
   \   000381   79..         MOV     R1,#?V4
   \   000383   12....       LCALL   ?FLT_MUL
   \   000386   90....       MOV     DPTR,#__Constant_0
   \   000389   78..         MOV     R0,#?V4
   \   00038B   12....       LCALL   ?L_MOV_X
   \   00038E   78..         MOV     R0,#?V0
   \   000390   79..         MOV     R1,#?V4
   \   000392   12....       LCALL   ?FLT_LT
   \   000395   5005         JNC     ??SampleApp_ProcessEvent_27
   \   000397   90....       MOV     DPTR,#__Constant_bf000000
   \   00039A   8003         SJMP    ??SampleApp_ProcessEvent_28
   \                     ??SampleApp_ProcessEvent_27:
   \   00039C   90....       MOV     DPTR,#__Constant_3f000000
   \                     ??SampleApp_ProcessEvent_28:
   \   00039F   78..         MOV     R0,#?V4
   \   0003A1   12....       LCALL   ?L_MOV_X
   \   0003A4   78..         MOV     R0,#?V0
   \   0003A6   79..         MOV     R1,#?V4
   \   0003A8   12....       LCALL   ?FLT_ADD
   \   0003AB   85....       MOV     ?V4,?V0
   \   0003AE   85....       MOV     ?V5,?V1
   \   0003B1   85....       MOV     ?V6,?V2
   \   0003B4   85....       MOV     ?V7,?V3
   \   0003B7   78..         MOV     R0,#?V4
   \   0003B9   12....       LCALL   ?FLT_TO_L
   \   0003BC   90....       MOV     DPTR,#sensor
   \   0003BF   E5..         MOV     A,?V4
   \   0003C1   F0           MOVX    @DPTR,A
   \   0003C2   A3           INC     DPTR
   \   0003C3   E5..         MOV     A,?V5
   \   0003C5   12....       LCALL   ??Subroutine13_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_35:
   \   0003C8   602F         JZ      ??SampleApp_ProcessEvent_29
   \   0003CA                ; Setup parameters for call to function printf
   \   0003CA   90....       MOV     DPTR,#__Constant_41200000
   \   0003CD   78..         MOV     R0,#?V4
   \   0003CF   12....       LCALL   ?L_MOV_X
   \   0003D2   78..         MOV     R0,#?V0
   \   0003D4   79..         MOV     R1,#?V4
   \   0003D6   12....       LCALL   ?FLT_DIV
   \   0003D9   78..         MOV     R0,#?V0
   \   0003DB   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0003DE   8E..         MOV     ?V0,R6
   \   0003E0   8F..         MOV     ?V1,R7
   \   0003E2   78..         MOV     R0,#?V0
   \   0003E4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003E7   90....       MOV     DPTR,#??res_std
   \   0003EA   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0003ED   7A..         MOV     R2,#`?<Constant "\\r\\nres_std=%u,res_t0=%...">` & 0xff
   \   0003EF   7B..         MOV     R3,#(`?<Constant "\\r\\nres_std=%u,res_t0=%...">` >> 8) & 0xff
   \   0003F1   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   0003F4   7408         MOV     A,#0x8
   \   0003F6   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??SampleApp_ProcessEvent_29:
   \   0003F9   90....       MOV     DPTR,#adc_state
   \   0003FC   7403         MOV     A,#0x3
   \   0003FE   02....       LJMP    ??SampleApp_ProcessEvent_21 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_18:
   \   000401                ; Setup parameters for call to function ADC_ReadData
   \   000401   7900         MOV     R1,#0x0
   \   000403   12....       LCALL   ??ADC_ReadData?relay ; Banked call to: ADC_ReadData
   \   000406   8A..         MOV     ?V0,R2
   \   000408   8B..         MOV     ?V1,R3
   \   00040A   AE..         MOV     R6,?V0
   \   00040C   AF..         MOV     R7,?V1
   \   00040E                ; Setup parameters for call to function ADC_MeasureStart
   \   00040E   7C01         MOV     R4,#0x1
   \   000410   7B03         MOV     R3,#0x3
   \   000412   7A00         MOV     R2,#0x0
   \   000414   7903         MOV     R1,#0x3
   \   000416   12....       LCALL   ??ADC_MeasureStart?relay; Banked call to: ADC_MeasureStart
   \   000419   E4           CLR     A
   \   00041A   F5..         MOV     ?V2,A
   \   00041C   F5..         MOV     ?V3,A
   \   00041E   78..         MOV     R0,#?V0
   \   000420   12....       LCALL   ?UL_TO_FLT
   \   000423   90....       MOV     DPTR,#__Constant_477fff00
   \   000426   78..         MOV     R0,#?V4
   \   000428   12....       LCALL   ?L_MOV_X
   \   00042B   78..         MOV     R0,#?V0
   \   00042D   79..         MOV     R1,#?V4
   \   00042F   12....       LCALL   ?FLT_DIV
   \   000432   90....       MOV     DPTR,#__Constant_3fa00000
   \   000435   78..         MOV     R0,#?V4
   \   000437   12....       LCALL   ?L_MOV_X
   \   00043A   78..         MOV     R0,#?V0
   \   00043C   79..         MOV     R1,#?V4
   \   00043E   12....       LCALL   ?FLT_MUL
   \   000441   90....       MOV     DPTR,#__Constant_42c80000
   \   000444   78..         MOV     R0,#?V4
   \   000446   12....       LCALL   ?L_MOV_X
   \   000449   78..         MOV     R0,#?V0
   \   00044B   79..         MOV     R1,#?V4
   \   00044D   12....       LCALL   ?FLT_MUL
   \   000450   90....       MOV     DPTR,#__Constant_3f000000
   \   000453   78..         MOV     R0,#?V4
   \   000455   12....       LCALL   ?L_MOV_X
   \   000458   78..         MOV     R0,#?V0
   \   00045A   79..         MOV     R1,#?V4
   \   00045C   12....       LCALL   ?FLT_ADD
   \   00045F   78..         MOV     R0,#?V0
   \   000461   12....       LCALL   ?FLT_TO_L
   \   000464   90....       MOV     DPTR,#sensor + 2
   \   000467   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   00046A   601B         JZ      ??SampleApp_ProcessEvent_30
   \   00046C                ; Setup parameters for call to function printf
   \   00046C   90....       MOV     DPTR,#sensor + 2
   \   00046F   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000472   8E..         MOV     ?V0,R6
   \   000474   8F..         MOV     ?V1,R7
   \   000476   78..         MOV     R0,#?V0
   \   000478   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00047B   7A..         MOV     R2,#`?<Constant "\\r\\nres_u=%u,humidity=%d\\r\\n">` & 0xff
   \   00047D   7B..         MOV     R3,#(`?<Constant "\\r\\nres_u=%u,humidity=%d\\r\\n">` >> 8) & 0xff
   \   00047F   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   000482   7404         MOV     A,#0x4
   \   000484   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??SampleApp_ProcessEvent_30:
   \   000487   90....       MOV     DPTR,#adc_state
   \   00048A   7404         MOV     A,#0x4
   \   00048C   F0           MOVX    @DPTR,A
   \   00048D                ; Setup parameters for call to function osal_start_timerEx
   \   00048D   7CC8         MOV     R4,#-0x38
   \   00048F   7D00         MOV     R5,#0x0
   \   000491   FA           MOV     R2,A
   \   000492   02....       LJMP    ??SampleApp_ProcessEvent_22 & 0xFFFF
   \                     ??SampleApp_ProcessEvent_19:
   \   000495                ; Setup parameters for call to function ADC_ReadData
   \   000495   7900         MOV     R1,#0x0
   \   000497   12....       LCALL   ??ADC_ReadData?relay ; Banked call to: ADC_ReadData
   \   00049A   8A..         MOV     ?V0,R2
   \   00049C   8B..         MOV     ?V1,R3
   \   00049E   AE..         MOV     R6,?V0
   \   0004A0   AF..         MOV     R7,?V1
   \   0004A2                ; Setup parameters for call to function CalculateRadiation
   \   0004A2   90....       MOV     DPTR,#gh_factor
   \   0004A5   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0004A8   E4           CLR     A
   \   0004A9   F5..         MOV     ?V2,A
   \   0004AB   F5..         MOV     ?V3,A
   \   0004AD   78..         MOV     R0,#?V0
   \   0004AF   12....       LCALL   ?UL_TO_FLT
   \   0004B2   90....       MOV     DPTR,#__Constant_477fff00
   \   0004B5   78..         MOV     R0,#?V4
   \   0004B7   12....       LCALL   ?L_MOV_X
   \   0004BA   78..         MOV     R0,#?V0
   \   0004BC   79..         MOV     R1,#?V4
   \   0004BE   12....       LCALL   ?FLT_DIV
   \   0004C1   90....       MOV     DPTR,#__Constant_3fa00000
   \   0004C4   78..         MOV     R0,#?V4
   \   0004C6   12....       LCALL   ?L_MOV_X
   \   0004C9   78..         MOV     R0,#?V0
   \   0004CB   79..         MOV     R1,#?V4
   \   0004CD   12....       LCALL   ?FLT_MUL
   \   0004D0   90....       MOV     DPTR,#__Constant_3e000000
   \   0004D3   78..         MOV     R0,#?V4
   \   0004D5   12....       LCALL   ?L_MOV_X
   \   0004D8   78..         MOV     R0,#?V0
   \   0004DA   79..         MOV     R1,#?V4
   \   0004DC   12....       LCALL   ?FLT_MUL
   \   0004DF   90....       MOV     DPTR,#__Constant_447a0000
   \   0004E2   78..         MOV     R0,#?V4
   \   0004E4   12....       LCALL   ?L_MOV_X
   \   0004E7   78..         MOV     R0,#?V0
   \   0004E9   79..         MOV     R1,#?V4
   \   0004EB   12....       LCALL   ?FLT_MUL
   \   0004EE   AA..         MOV     R2,?V0
   \   0004F0   AB..         MOV     R3,?V1
   \   0004F2   AC..         MOV     R4,?V2
   \   0004F4   AD..         MOV     R5,?V3
   \   0004F6   12....       LCALL   ??CalculateRadiation?relay; Banked call to: CalculateRadiation
   \   0004F9   7404         MOV     A,#0x4
   \   0004FB   12....       LCALL   ?DEALLOC_XSTACK8
   \   0004FE   8A..         MOV     ?V0,R2
   \   000500   8B..         MOV     ?V1,R3
   \   000502   8C..         MOV     ?V2,R4
   \   000504   8D..         MOV     ?V3,R5
   \   000506   90....       MOV     DPTR,#__Constant_3f000000
   \   000509   78..         MOV     R0,#?V4
   \   00050B   12....       LCALL   ?L_MOV_X
   \   00050E   78..         MOV     R0,#?V0
   \   000510   79..         MOV     R1,#?V4
   \   000512   12....       LCALL   ?FLT_ADD
   \   000515   90....       MOV     DPTR,#__Constant_bf000000
   \   000518   78..         MOV     R0,#?V4
   \   00051A   12....       LCALL   ?L_MOV_X
   \   00051D   78..         MOV     R0,#?V0
   \   00051F   79..         MOV     R1,#?V4
   \   000521   12....       LCALL   ?FLT_ADD
   \   000524   78..         MOV     R0,#?V0
   \   000526   12....       LCALL   ?FLT_TO_L
   \   000529   90....       MOV     DPTR,#sensor + 4
   \   00052C   12....       LCALL   ?Subroutine4 & 0xFFFF
   \                     ??CrossCallReturnLabel_34:
   \   00052F   601B         JZ      ??SampleApp_ProcessEvent_31
   \   000531                ; Setup parameters for call to function printf
   \   000531   90....       MOV     DPTR,#sensor + 4
   \   000534   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000537   8E..         MOV     ?V0,R6
   \   000539   8F..         MOV     ?V1,R7
   \   00053B   78..         MOV     R0,#?V0
   \   00053D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000540   7A..         MOV     R2,#`?<Constant "\\r\\nres_gh=%u,guanghe=%d\\r\\n">` & 0xff
   \   000542   7B..         MOV     R3,#(`?<Constant "\\r\\nres_gh=%u,guanghe=%d\\r\\n">` >> 8) & 0xff
   \   000544   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   000547   7404         MOV     A,#0x4
   \   000549   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??SampleApp_ProcessEvent_31:
   \   00054C   90....       MOV     DPTR,#adc_done
   \   00054F   7401         MOV     A,#0x1
   \   000551   F0           MOVX    @DPTR,A
   \   000552   02....       LJMP    ??SampleApp_ProcessEvent_24 & 0xFFFF
    588            }
    589            
    590            /* 周期 5s 事件处理 */
    591            if( events & SAMPLEAPP_SEND_PERIODIC_MSG_EVT )
   \                     ??SampleApp_ProcessEvent_14:
   \   000555   E0           MOVX    A,@DPTR
   \   000556   A2E0         MOV     C,0xE0 /* A   */.0
   \   000558   501B         JNC     ??SampleApp_ProcessEvent_32
    592            {
    593          #if !(defined (ZDO_COORDINATOR)) && !(defined (RTR_NWK)) //终端
    594              osal_set_event( SampleApp_TaskID, SAMPLEAPP_ADC_MEA_EVT );//触发ADC采样处理事件
   \   00055A                ; Setup parameters for call to function osal_set_event
   \   00055A   7A04         MOV     R2,#0x4
   \   00055C   7B00         MOV     R3,#0x0
   \   00055E   90....       MOV     DPTR,#SampleApp_TaskID
   \   000561   E0           MOVX    A,@DPTR
   \   000562   F9           MOV     R1,A
   \   000563   12....       LCALL   ??osal_set_event?relay; Banked call to: osal_set_event
    595          #endif
    596              // return unprocessed events
    597              return (events ^ SAMPLEAPP_SEND_PERIODIC_MSG_EVT);
   \   000566   85..82       MOV     DPL,?XSP + 0
   \   000569   85..83       MOV     DPH,?XSP + 1
   \   00056C   E0           MOVX    A,@DPTR
   \   00056D   6401         XRL     A,#0x1
   \                     ??SampleApp_ProcessEvent_26:
   \   00056F   FA           MOV     R2,A
   \   000570   A3           INC     DPTR
   \   000571   E0           MOVX    A,@DPTR
   \                     ??SampleApp_ProcessEvent_13:
   \   000572   FB           MOV     R3,A
   \   000573   8013         SJMP    ??SampleApp_ProcessEvent_33
    598            }
    599            
    600            /* 周期500ms喂狗事件处理 */
    601            if( events & SAMPLEAPP_WDT_PERIODIC_MSG_EVT )
   \                     ??SampleApp_ProcessEvent_32:
   \   000575   5402         ANL     A,#0x2
   \   000577   600B         JZ      ??SampleApp_ProcessEvent_34
    602            {
    603              if(!rs_flag)
   \   000579   90....       MOV     DPTR,#rs_flag
   \   00057C   12....       LCALL   ??Subroutine18_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   00057F   7003         JNZ     ??SampleApp_ProcessEvent_34
    604              {
    605                WDT_Feed();//喂狗
   \   000581                ; Setup parameters for call to function WDT_Feed
   \   000581   12....       LCALL   ??WDT_Feed?relay     ; Banked call to: WDT_Feed
    606                //HalUARTWrite(0,"hellow!\n",strlen("hellow!\n") );
    607              }
    608            }
    609          
    610            // Discard unknown events
    611            return 0;
   \                     ??SampleApp_ProcessEvent_34:
   \   000584   7A00         MOV     R2,#0x0
   \   000586   7B00         MOV     R3,#0x0
   \                     ??SampleApp_ProcessEvent_33:
   \   000588   7402         MOV     A,#0x2
   \   00058A                REQUIRE ?Subroutine0
   \   00058A                ; // Fall through to label ?Subroutine0
    612          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F08         MOV     R7,#0x8
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   90....       MOV     DPTR,#aExtendedAddress
   \   000003                REQUIRE ??Subroutine12_0
   \   000003                ; // Fall through to label ??Subroutine12_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine12_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0,A
   \   000003   78..         MOV     R0,#?V0
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   E5..         MOV     A,?V0
   \   000002   F0           MOVX    @DPTR,A
   \   000003   A3           INC     DPTR
   \   000004   E5..         MOV     A,?V1
   \   000006                REQUIRE ??Subroutine13_0
   \   000006                ; // Fall through to label ??Subroutine13_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine13_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   90....       MOV     DPTR,#debug
   \   000004   12....       LCALL   ??Subroutine14_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   000007   E8           MOV     A,R0
   \   000008   49           ORL     A,R1
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine14_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   90....       MOV     DPTR,#rs_flag
   \   000003                REQUIRE ??Subroutine15_0
   \   000003                ; // Fall through to label ??Subroutine15_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   90....       MOV     DPTR,#_NIB + 22
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F5..         MOV     ?V0,A
   \   000006   75..00       MOV     ?V1,#0x0
   \   000009   78..         MOV     R0,#?V0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   90....       MOV     DPTR,#debug
   \   000003                REQUIRE ??Subroutine18_0
   \   000003                ; // Fall through to label ??Subroutine18_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine18_0:
   \   000000   12....       LCALL   ??Subroutine14_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000003   E8           MOV     A,R0
   \   000004   49           ORL     A,R1
   \   000005   22           RET

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??res_std:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    613          
    614          /*********************************************************************
    615           * Event Generation Functions
    616           */
    617          
    618          
    619          /*********************************************************************
    620           * LOCAL FUNCTIONS
    621           */
    622          
    623          /*********************************************************************
    624           * @fn      SampleApp_MessageMSGCB
    625           *
    626           * @brief   这个函数管理所有接受到的数据，至于数据来自哪个设备，它是根据
    627           *          簇ID来分辨的。
    628           *          所有接收到的数据都会存入 afIncomingMSGPacket_t *pkt所指向的存储区域
    629           *          内
    630           *          
    631           *          
    632           *
    633           * @param   none
    634           *
    635           * @return  none
    636           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    637          void SampleApp_MessageMSGCB( afIncomingMSGPacket_t *pkt ) //2017.03.17 杨广湘：去除簇ID方式解析信息，
   \                     SampleApp_MessageMSGCB:
    638          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 26
   \   000005   74E6         MOV     A,#-0x1a
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    639            char *str = &pkt->cmd.Data[0];
                               ^
Warning[Pe144]: a value of type "unsigned char *" cannot be used to initialize
          an entity of type "char *"
   \   00000A   EA           MOV     A,R2
   \   00000B   2422         ADD     A,#0x22
   \   00000D   F582         MOV     DPL,A
   \   00000F   E4           CLR     A
   \   000010   3B           ADDC    A,R3
   \   000011   F583         MOV     DPH,A
   \   000013   E0           MOVX    A,@DPTR
   \   000014   F5..         MOV     ?V4,A
   \   000016   A3           INC     DPTR
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F5..         MOV     ?V5,A
    640            int len = pkt->cmd.DataLength;
   \   00001A   EA           MOV     A,R2
   \   00001B   2420         ADD     A,#0x20
   \   00001D   F582         MOV     DPL,A
   \   00001F   E4           CLR     A
   \   000020   3B           ADDC    A,R3
   \   000021   F583         MOV     DPH,A
   \   000023   E0           MOVX    A,@DPTR
   \   000024   FE           MOV     R6,A
   \   000025   A3           INC     DPTR
   \   000026   E0           MOVX    A,@DPTR
   \   000027   FF           MOV     R7,A
    641            int sens_id = 0;
    642            char temp[20];
    643            int numbers;
    644            
    645            /* 无线接收数据打印 */
    646            if(debug) //调试信息
   \   000028   12....       LCALL   ?Subroutine7 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   00002B   600D         JZ      ??SampleApp_MessageMSGCB_0
    647            {
    648              HalUARTWrite(0, str,len);//打印收到数据
                                     ^
Warning[Pe167]: argument of type "char *" is incompatible with parameter of
          type "unsigned char *"
   \   00002D                ; Setup parameters for call to function HalUARTWrite
   \   00002D   EE           MOV     A,R6
   \   00002E   FC           MOV     R4,A
   \   00002F   EF           MOV     A,R7
   \   000030   FD           MOV     R5,A
   \   000031   AA..         MOV     R2,?V4
   \   000033   AB..         MOV     R3,?V5
   \   000035   7900         MOV     R1,#0x0
   \   000037   12....       LCALL   ??HalUARTWrite?relay ; Banked call to: HalUARTWrite
    649            }
    650            
    651            /* 无线接收数据解析 */
    652            if(*(str+len-1)== '\n')
   \                     ??SampleApp_MessageMSGCB_0:
   \   00003A   E5..         MOV     A,?V4
   \   00003C   2E           ADD     A,R6
   \   00003D   F8           MOV     R0,A
   \   00003E   E5..         MOV     A,?V5
   \   000040   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_7:
   \   000043   6003         JZ      $+5
   \   000045   02....       LJMP    ??SampleApp_MessageMSGCB_1 & 0xFFFF
    653            {
    654          #if defined (ZDO_COORDINATOR) || defined (RTR_NWK) //协调器
    655              /* 协调器接收数据解析 */
    656              sens_id = atoi(str+DATA_OFFSET_ID);
    657              if(sens_id>=1&&sens_id<=3) //提取传感器数据
    658              {
    659                int i = 0;
    660                i = sens_id - 1;
    661                coordi[i].temperature = atoi(str+DATA_OFFSET_T0);
    662                coordi[i].humidity = atoi(str+DATA_OFFSET_U);
    663                coordi[i].photosyn = atoi(str+DATA_OFFSET_GH);
    664              }
    665              
    666          #else //终端
    667              /* 终端接收数据解析 */
    668              if(osal_memcmp(str,"#RS",3))//复位
   \   000048                ; Setup parameters for call to function osal_memcmp
   \   000048   75....       MOV     ?V0,#`?<Constant "#RS">` & 0xff
   \   00004B   75....       MOV     ?V1,#(`?<Constant "#RS">` >> 8) & 0xff
   \   00004E   75..00       MOV     ?V2,#0x0
   \   000051   78..         MOV     R0,#?V0
   \   000053   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000056   7C03         MOV     R4,#0x3
   \   000058   7D00         MOV     R5,#0x0
   \   00005A   85..82       MOV     DPL,?V4
   \   00005D   85..83       MOV     DPH,?V5
   \   000060   A982         MOV     R1,DPL
   \   000062   AA83         MOV     R2,DPH
   \   000064   7B00         MOV     R3,#0x0
   \   000066   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   000069   7403         MOV     A,#0x3
   \   00006B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00006E   E9           MOV     A,R1
   \   00006F   603C         JZ      ??SampleApp_MessageMSGCB_2
    669              {
    670                if((len>5)&&(atoi(str+4)!=0))  //参数不为0清除掉网络信息
   \   000071   C3           CLR     C
   \   000072   EE           MOV     A,R6
   \   000073   9406         SUBB    A,#0x6
   \   000075   EF           MOV     A,R7
   \   000076   9400         SUBB    A,#0x0
   \   000078   A2D2         MOV     C,0xD0 /* PSW */.2
   \   00007A   65D0         XRL     A,PSW
   \   00007C   33           RLC     A
   \   00007D   4021         JC      ??SampleApp_MessageMSGCB_3
   \   00007F                ; Setup parameters for call to function atoi
   \   00007F   E5..         MOV     A,?V4
   \   000081   2404         ADD     A,#0x4
   \   000083   FA           MOV     R2,A
   \   000084   E4           CLR     A
   \   000085   35..         ADDC    A,?V5
   \   000087   FB           MOV     R3,A
   \   000088   12....       LCALL   ??atoi?relay         ; Banked call to: atoi
   \   00008B   8B..         MOV     ?V1,R3
   \   00008D   EA           MOV     A,R2
   \   00008E   45..         ORL     A,?V1
   \   000090   600E         JZ      ??SampleApp_MessageMSGCB_3
    671                {
    672                  zgWriteStartupOptions(ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
   \   000092                ; Setup parameters for call to function zgWriteStartupOptions
   \   000092   7A02         MOV     R2,#0x2
   \   000094   79FF         MOV     R1,#-0x1
   \   000096   12....       LCALL   ??zgWriteStartupOptions?relay; Banked call to: zgWriteStartupOptions
    673                  printf("clear\r\n");
   \   000099                ; Setup parameters for call to function printf
   \   000099   7A..         MOV     R2,#`?<Constant "clear\\r\\n">` & 0xff
   \   00009B   7B..         MOV     R3,#(`?<Constant "clear\\r\\n">` >> 8) & 0xff
   \   00009D   12....       LCALL   ??printf?relay       ; Banked call to: printf
    674                }
    675                
    676                printf("reset\r\n");
   \                     ??SampleApp_MessageMSGCB_3:
   \   0000A0                ; Setup parameters for call to function printf
   \   0000A0   7A..         MOV     R2,#`?<Constant "reset\\r\\n">` & 0xff
   \   0000A2   7B..         MOV     R3,#(`?<Constant "reset\\r\\n">` >> 8) & 0xff
   \   0000A4   12....       LCALL   ??printf?relay       ; Banked call to: printf
    677                /* 复位 */     
    678                rs_flag = 1;//置位停止喂狗标志     
   \   0000A7   12....       LCALL   ?Subroutine5 & 0xFFFF
    679              }
   \                     ??CrossCallReturnLabel_41:
   \   0000AA   02....       LJMP    ??SampleApp_MessageMSGCB_1 & 0xFFFF
    680              else if(osal_memcmp(str,"#GH",3))
   \                     ??SampleApp_MessageMSGCB_2:
   \   0000AD                ; Setup parameters for call to function osal_memcmp
   \   0000AD   75....       MOV     ?V0,#`?<Constant "#GH">` & 0xff
   \   0000B0   75....       MOV     ?V1,#(`?<Constant "#GH">` >> 8) & 0xff
   \   0000B3   78..         MOV     R0,#?V0
   \   0000B5   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000B8   7C03         MOV     R4,#0x3
   \   0000BA   7D00         MOV     R5,#0x0
   \   0000BC   85..82       MOV     DPL,?V4
   \   0000BF   85..83       MOV     DPH,?V5
   \   0000C2   A982         MOV     R1,DPL
   \   0000C4   AA83         MOV     R2,DPH
   \   0000C6   7B00         MOV     R3,#0x0
   \   0000C8   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   0000CB   7403         MOV     A,#0x3
   \   0000CD   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000D0   E9           MOV     A,R1
   \   0000D1   7003         JNZ     $+5
   \   0000D3   02....       LJMP    ??SampleApp_MessageMSGCB_1 & 0xFFFF
    681              {
    682                if(len == 5) //读取光合表系数
   \   0000D6   7405         MOV     A,#0x5
   \   0000D8   6E           XRL     A,R6
   \   0000D9   4F           ORL     A,R7
   \   0000DA   702C         JNZ     ??SampleApp_MessageMSGCB_4
    683                {
    684                  numbers = sprintf(temp,"<GH,%03u,%.2f>\r\n", sensor_id, gh_factor);
    685                  SampleApp_SendPointToPointMessage(temp, numbers);
   \   0000DC                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   0000DC                ; Setup parameters for call to function sprintf
   \   0000DC   90....       MOV     DPTR,#gh_factor
   \   0000DF   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0000E2   90....       MOV     DPTR,#sensor_id
   \   0000E5   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0000E8   7C..         MOV     R4,#`?<Constant "<GH,%03u,%.2f>\\r\\n">` & 0xff
   \   0000EA   7D..         MOV     R5,#(`?<Constant "<GH,%03u,%.2f>\\r\\n">` >> 8) & 0xff
   \   0000EC   740C         MOV     A,#0xc
   \   0000EE   12....       LCALL   ?XSTACK_DISP101_8
   \   0000F1   12....       LCALL   ??sprintf?relay      ; Banked call to: sprintf
   \   0000F4   7406         MOV     A,#0x6
   \   0000F6   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000F9   EA           MOV     A,R2
   \   0000FA   FC           MOV     R4,A
   \   0000FB   EB           MOV     A,R3
   \   0000FC   FD           MOV     R5,A
   \   0000FD   7406         MOV     A,#0x6
   \   0000FF   12....       LCALL   ?XSTACK_DISP101_8
   \   000102   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay; Banked call to: SampleApp_SendPointToPointMessage
   \   000105   02....       LJMP    ??SampleApp_MessageMSGCB_1 & 0xFFFF
    686                }
    687                else //设置光合表系数
    688                {
    689                  float temp_gh;
    690                  int temp_id;
    691                  char *p = NULL;
    692                  
    693                  p = strchr(str, ','); //查找第一个","出现的位置
   \                     ??SampleApp_MessageMSGCB_4:
   \   000108                ; Setup parameters for call to function strchr
   \   000108   7C2C         MOV     R4,#0x2c
   \   00010A   7D00         MOV     R5,#0x0
   \   00010C   AA..         MOV     R2,?V4
   \   00010E   AB..         MOV     R3,?V5
   \   000110   12....       LCALL   ??strchr?relay       ; Banked call to: strchr
   \   000113   8A..         MOV     ?V0,R2
   \   000115   8B..         MOV     ?V1,R3
    694                  sscanf(p+1, "%d", &temp_id);
   \   000117                ; Setup parameters for call to function sscanf
   \   000117   A8..         MOV     R0,?XSP + 0
   \   000119   A9..         MOV     R1,?XSP + 1
   \   00011B   88..         MOV     ?V2,R0
   \   00011D   89..         MOV     ?V3,R1
   \   00011F   78..         MOV     R0,#?V2
   \   000121   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000124   7C..         MOV     R4,#`?<Constant "%d">` & 0xff
   \   000126   7D..         MOV     R5,#(`?<Constant "%d">` >> 8) & 0xff
   \   000128   8A82         MOV     DPL,R2
   \   00012A   8B83         MOV     DPH,R3
   \   00012C   A3           INC     DPTR
   \   00012D   AA82         MOV     R2,DPL
   \   00012F   AB83         MOV     R3,DPH
   \   000131   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   000134   7402         MOV     A,#0x2
   \   000136   12....       LCALL   ?DEALLOC_XSTACK8
    695                  if(temp_id == sensor_id)
   \   000139   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   00013C   90....       MOV     DPTR,#sensor_id
   \   00013F   E0           MOVX    A,@DPTR
   \   000140   68           XRL     A,R0
   \   000141   7003         JNZ     ??SampleApp_MessageMSGCB_5
   \   000143   A3           INC     DPTR
   \   000144   E0           MOVX    A,@DPTR
   \   000145   69           XRL     A,R1
   \                     ??SampleApp_MessageMSGCB_5:
   \   000146   6003         JZ      $+5
   \   000148   02....       LJMP    ??SampleApp_MessageMSGCB_1 & 0xFFFF
    696                  {
    697                    p = strchr(p+1, ','); //查找第二个","出现的位置
    698                    sscanf(p+1, "%f", &temp_gh);
   \   00014B                ; Setup parameters for call to function sscanf
   \   00014B   7402         MOV     A,#0x2
   \   00014D   12....       LCALL   ?XSTACK_DISP100_8
   \   000150   88..         MOV     ?V2,R0
   \   000152   89..         MOV     ?V3,R1
   \   000154   78..         MOV     R0,#?V2
   \   000156   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000159                ; Setup parameters for call to function strchr
   \   000159   7C2C         MOV     R4,#0x2c
   \   00015B   7D00         MOV     R5,#0x0
   \   00015D   85..82       MOV     DPL,?V0
   \   000160   85..83       MOV     DPH,?V1
   \   000163   A3           INC     DPTR
   \   000164   AA82         MOV     R2,DPL
   \   000166   AB83         MOV     R3,DPH
   \   000168   12....       LCALL   ??strchr?relay       ; Banked call to: strchr
   \   00016B   8A82         MOV     DPL,R2
   \   00016D   8B83         MOV     DPH,R3
   \   00016F   A3           INC     DPTR
   \   000170   AA82         MOV     R2,DPL
   \   000172   AB83         MOV     R3,DPH
   \   000174   7C..         MOV     R4,#`?<Constant "%f">` & 0xff
   \   000176   7D..         MOV     R5,#(`?<Constant "%f">` >> 8) & 0xff
   \   000178   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   00017B   7402         MOV     A,#0x2
   \   00017D   12....       LCALL   ?DEALLOC_XSTACK8
    699                    if(temp_gh>=1.0)
   \   000180   7402         MOV     A,#0x2
   \   000182   12....       LCALL   ?XSTACK_DISP0_8
   \   000185   78..         MOV     R0,#?V0
   \   000187   12....       LCALL   ?L_MOV_X
   \   00018A   90....       MOV     DPTR,#__Constant_3f800000
   \   00018D   78..         MOV     R0,#?V4
   \   00018F   12....       LCALL   ?L_MOV_X
   \   000192   78..         MOV     R0,#?V0
   \   000194   79..         MOV     R1,#?V4
   \   000196   12....       LCALL   ?FLT_GE
   \   000199   5055         JNC     ??SampleApp_MessageMSGCB_6
    700                    {
    701                      gh_factor = temp_gh;
   \   00019B   7402         MOV     A,#0x2
   \   00019D   12....       LCALL   ?XSTACK_DISP0_8
   \   0001A0   12....       LCALL   ?XLOAD_R0123
   \   0001A3   90....       MOV     DPTR,#gh_factor
   \   0001A6   12....       LCALL   ?XSTORE_R0123
    702                      
    703                      /* 光合表系数存入flash */
    704                      sprintf(dev_gh, "%5.2f", gh_factor);
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"

    int sens_id = 0;
        ^
"D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",641  Warning[Pe177]: 
          variable "sens_id" was declared but never referenced
   \   0001A9                ; Setup parameters for call to function sprintf
   \   0001A9   90....       MOV     DPTR,#gh_factor
   \   0001AC   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0001AF   7C..         MOV     R4,#`?<Constant "%5.2f">` & 0xff
   \   0001B1   7D..         MOV     R5,#(`?<Constant "%5.2f">` >> 8) & 0xff
   \   0001B3   7A..         MOV     R2,#dev_gh & 0xff
   \   0001B5   7B..         MOV     R3,#(dev_gh >> 8) & 0xff
   \   0001B7   12....       LCALL   ??sprintf?relay      ; Banked call to: sprintf
   \   0001BA   7404         MOV     A,#0x4
   \   0001BC   12....       LCALL   ?DEALLOC_XSTACK8
    705                      
    706                      if(SUCCESS == osal_nv_write(DEVICE_GH, 0, DEVICE_GH_LEN, dev_gh))
   \   0001BF                ; Setup parameters for call to function osal_nv_write
   \   0001BF   75....       MOV     ?V0,#dev_gh & 0xff
   \   0001C2   75....       MOV     ?V1,#(dev_gh >> 8) & 0xff
   \   0001C5   78..         MOV     R0,#?V0
   \   0001C7   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001CA   75..05       MOV     ?V0,#0x5
   \   0001CD   75..00       MOV     ?V1,#0x0
   \   0001D0   78..         MOV     R0,#?V0
   \   0001D2   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001D5   7C00         MOV     R4,#0x0
   \   0001D7   7D00         MOV     R5,#0x0
   \   0001D9   7A00         MOV     R2,#0x0
   \   0001DB   7B05         MOV     R3,#0x5
   \   0001DD   12....       LCALL   ??osal_nv_write?relay; Banked call to: osal_nv_write
   \   0001E0   7404         MOV     A,#0x4
   \   0001E2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001E5   E9           MOV     A,R1
   \   0001E6   7008         JNZ     ??SampleApp_MessageMSGCB_6
    707                        ReturnTorF(1,0); //存入成功
   \   0001E8                ; Setup parameters for call to function ReturnTorF
   \   0001E8   7C00         MOV     R4,#0x0
   \   0001EA   7D00         MOV     R5,#0x0
   \   0001EC   7A01         MOV     R2,#0x1
   \   0001EE   8006         SJMP    ??SampleApp_MessageMSGCB_7
    708                      else
    709                        ReturnTorF(0,0); //存入失败
    710                    }
    711                    else
    712                    {
    713                      ReturnTorF(0,0); //错误
   \                     ??SampleApp_MessageMSGCB_6:
   \   0001F0                ; Setup parameters for call to function ReturnTorF
   \   0001F0   7C00         MOV     R4,#0x0
   \   0001F2   7D00         MOV     R5,#0x0
   \   0001F4   7A00         MOV     R2,#0x0
   \                     ??SampleApp_MessageMSGCB_7:
   \   0001F6   7B00         MOV     R3,#0x0
   \   0001F8   12....       LCALL   ??ReturnTorF?relay   ; Banked call to: ReturnTorF
    714                    }
    715                  }
    716                }
    717              }
    718          #endif
    719            }
    720          
    721          }
   \                     ??SampleApp_MessageMSGCB_1:
   \   0001FB   741A         MOV     A,#0x1a
   \   0001FD   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006                REQUIRE ??Subroutine14_0
   \   000006                ; // Fall through to label ??Subroutine14_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   3F           ADDC    A,R7
   \   000001   F9           MOV     R1,A
   \   000002   E8           MOV     A,R0
   \   000003   24FF         ADD     A,#-0x1
   \   000005   F582         MOV     DPL,A
   \   000007   E9           MOV     A,R1
   \   000008   34FF         ADDC    A,#-0x1
   \   00000A   F583         MOV     DPH,A
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   640A         XRL     A,#0xa
   \   00000F   22           RET
    722          
    723          /*********************************************************************
    724           * @fn      SampleApp_SendPeriodicMessage
    725           *
    726           * @brief   Send the periodic message.
    727           *          这个函数，是一个周期性数据发送函数，它是设备设置为周期性广播的时候
    728           *          调用的，它是我们设置发送数据的地方
    729           *   SAMPLEAPP_PERIODIC_CLUSTERID,  这是一个簇，定义的作用是和接收方建立联系，
    730           *           协调器收到这个标号，如果是1，就是证明是由周期性广播方式发送过来的
    731           *
    732           * @param   none
    733           *
    734           * @return  none
    735           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    736          void SampleApp_SendPeriodicMessage(char *p, int len)
   \                     SampleApp_SendPeriodicMessage:
    737          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    738            if ( AF_DataRequest( &SampleApp_Periodic_DstAddr, &SampleApp_epDesc,
    739                                 SAMPLEAPP_PERIODIC_CLUSTERID,  
    740                                 len,//字节数
    741                                 p,//指针头
                                        ^
Warning[Pe167]: argument of type "char *" is incompatible with parameter of
          type "unsigned char *"
    742                                 &SampleApp_TransID,
    743                                 AF_DISCV_ROUTE,
    744                                 AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000005                ; Setup parameters for call to function AF_DataRequest
   \   000005   75..1E       MOV     ?V0,#0x1e
   \   000008   78..         MOV     R0,#?V0
   \   00000A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00000D   75....       MOV     ?V0,#SampleApp_TransID & 0xff
   \   000010   75....       MOV     ?V1,#(SampleApp_TransID >> 8) & 0xff
   \   000013   78..         MOV     R0,#?V0
   \   000015   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000018   8A..         MOV     ?V0,R2
   \   00001A   8B..         MOV     ?V1,R3
   \   00001C   78..         MOV     R0,#?V0
   \   00001E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000021   8C..         MOV     ?V0,R4
   \   000023   8D..         MOV     ?V1,R5
   \   000025   78..         MOV     R0,#?V0
   \   000027   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002A   75..01       MOV     ?V0,#0x1
   \   00002D   75..00       MOV     ?V1,#0x0
   \   000030   78..         MOV     R0,#?V0
   \   000032   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000035   7920         MOV     R1,#0x20
   \   000037   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000039   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   00003B   7A..         MOV     R2,#SampleApp_Periodic_DstAddr & 0xff
   \   00003D   7B..         MOV     R3,#(SampleApp_Periodic_DstAddr >> 8) & 0xff
   \   00003F                REQUIRE ?Subroutine1
   \   00003F                ; // Fall through to label ?Subroutine1
    745            {
    746            }
    747            else
    748            {
    749              // Error occurred in request to send.
    750            }
    751          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ??AF_DataRequest?relay; Banked call to: AF_DataRequest
   \   000003   7409         MOV     A,#0x9
   \   000005   12....       LCALL   ?DEALLOC_XSTACK8
   \   000008   7F02         MOV     R7,#0x2
   \   00000A   02....       LJMP    ?BANKED_LEAVE_XDATA
    752          
    753          /*********************************************************************
    754           * @fn      SampleApp_SendPointToPointMessage
    755           *
    756           * @brief   网蜂点对点发送函数
    757           *
    758           * @param   none
    759           *
    760           * @return  none
    761           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    762          void SampleApp_SendPointToPointMessage( char *p, int len )
   \                     SampleApp_SendPointToPointMessage:
    763          { 
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    764            if ( AF_DataRequest( &Point_To_Point_DstAddr,&SampleApp_epDesc,
    765                                   SAMPLEAPP_POINT_TO_POINT_CLUSTERID,
    766                                   len,//字节数
    767                                   p,//首地址  要发送数据的首地址
                                          ^
Warning[Pe167]: argument of type "char *" is incompatible with parameter of
          type "unsigned char *"
    768                                   &SampleApp_TransID,
    769                                   AF_DISCV_ROUTE,
    770                                   AF_DEFAULT_RADIUS ) == afStatus_SUCCESS )
   \   000005                ; Setup parameters for call to function AF_DataRequest
   \   000005   75..1E       MOV     ?V0,#0x1e
   \   000008   78..         MOV     R0,#?V0
   \   00000A   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00000D   75....       MOV     ?V0,#SampleApp_TransID & 0xff
   \   000010   75....       MOV     ?V1,#(SampleApp_TransID >> 8) & 0xff
   \   000013   78..         MOV     R0,#?V0
   \   000015   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000018   8A..         MOV     ?V0,R2
   \   00001A   8B..         MOV     ?V1,R3
   \   00001C   78..         MOV     R0,#?V0
   \   00001E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000021   8C..         MOV     ?V0,R4
   \   000023   8D..         MOV     ?V1,R5
   \   000025   78..         MOV     R0,#?V0
   \   000027   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00002A   75..03       MOV     ?V0,#0x3
   \   00002D   75..00       MOV     ?V1,#0x0
   \   000030   78..         MOV     R0,#?V0
   \   000032   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000035   7920         MOV     R1,#0x20
   \   000037   7C..         MOV     R4,#SampleApp_epDesc & 0xff
   \   000039   7D..         MOV     R5,#(SampleApp_epDesc >> 8) & 0xff
   \   00003B   7A..         MOV     R2,#Point_To_Point_DstAddr & 0xff
   \   00003D   7B..         MOV     R3,#(Point_To_Point_DstAddr >> 8) & 0xff
   \   00003F   80..         SJMP    ?Subroutine1
    771            {
    772            }
    773            else
    774            {
    775              // Error occurred in request to send.
    776            }
    777          }
    778          
    779          /*********************************************************************
    780           * @fn      SampleApp_SerialCMD
    781           *
    782           * @brief   通讯串口接收数据解析
    783           *
    784           * @param   none
    785           *
    786           * @return  none
    787           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    788          void SampleApp_SerialCMD(mtOSALSerialData_t *cmdMsg)
   \                     SampleApp_SerialCMD:
    789          {
   \   000000                REQUIRE ?V0
   \   000000                REQUIRE ?V1
   \   000000                REQUIRE ?V2
   \   000000                REQUIRE ?V3
   \   000000                REQUIRE ?V4
   \   000000                REQUIRE ?V5
   \   000000                REQUIRE ?V6
   \   000000                REQUIRE ?V7
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV     A,#-0xa
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
    790             uint8 i,len,*str=NULL; //len 有用数据长度
    791             int numbers;
    792             str=cmdMsg->msg; //指向数据开头
   \   00000A   8A82         MOV     DPL,R2
   \   00000C   8B83         MOV     DPH,R3
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   E0           MOVX    A,@DPTR
   \   000011   FE           MOV     R6,A
   \   000012   A3           INC     DPTR
   \   000013   E0           MOVX    A,@DPTR
   \   000014   FF           MOV     R7,A
    793             len=*str; //msg 里的第 1 个字节代表后面的数据长度
   \   000015   8E82         MOV     DPL,R6
   \   000017   8F83         MOV     DPH,R7
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   F5..         MOV     ?V3,A
    794             str++; //令指针指向第一个字符
   \   00001C   A3           INC     DPTR
   \   00001D   AE82         MOV     R6,DPL
   \   00001F   AF83         MOV     R7,DPH
    795             
    796             /********打印出串口接收到的数据，用于提示*********/
    797             //HalUARTWrite(0,str,len);
    798             
    799             /* 上位机指令解析 */
    800             if(*(str+len-1)== '\n')
   \   000021   F5..         MOV     ?V0,A
   \   000023   EE           MOV     A,R6
   \   000024   25..         ADD     A,?V0
   \   000026   F8           MOV     R0,A
   \   000027   E4           CLR     A
   \   000028   12....       LCALL   ?Subroutine9 & 0xFFFF
   \                     ??CrossCallReturnLabel_8:
   \   00002B   6003         JZ      $+5
   \   00002D   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
    801             {
    802          #if defined (ZDO_COORDINATOR) || defined (RTR_NWK) //协调器
    803               
    804                //数据读取（DM）
    805                if(osal_memcmp(str,"#DM",3)) //主采读取数据
    806                {
    807                  /* 主采读取数据 */
    808                  numbers = sprintf(data_coor, "BG,ID001,%04d,%03d,%04d,ID002,%04d,%03d,%04d,ID003,%04d,%03d,%04d,ED\r\n",coordi[0].temperature,
    809                                    coordi[0].humidity,coordi[0].photosyn,coordi[1].temperature,coordi[1].humidity,coordi[1].photosyn,
    810                                    coordi[2].temperature,coordi[2].humidity,coordi[2].photosyn); //数据填充
    811                  
    812                  SendDataToCollector(data_coor, numbers); //数据发往主采
    813                  
    814                  osal_memset(coordi, 0, sizeof(dataType_t)*3); //发送后数据清零
    815                }
    816                
    817                //复位指令（RS）
    818                else if(osal_memcmp(str,"#RS",3))
    819                {
    820                  /* 复位 */
    821                  if((len>5)&&(atoi(str+4)!=0))  //参数不为0清除掉网络信息
    822                  {
    823                    zgWriteStartupOptions(ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
    824                    printf("clear\r\n");
    825                  }
    826                  
    827                  ReturnTorF( 1, 1 ); //正确
    828                  SampleApp_SendPeriodicMessage(str, len); //转发复位指令给终端传感器
    829                  
    830                  rs_flag = 1;//置位停止喂狗标志
    831                  
    832                }
    833                else if(osal_memcmp(str,"#GH",3)) //协调器使用GH指令给传感器设置光合表系数
    834                {
    835                  SampleApp_SendPeriodicMessage(str, len);
    836                }
    837          #else //终端节点
    838                
    839                //设备ID读取和设置（ID）
    840                if(osal_memcmp(str,"#ID",3))
   \   000030                ; Setup parameters for call to function osal_memcmp
   \   000030   75....       MOV     ?V0,#`?<Constant "#ID">` & 0xff
   \   000033   75....       MOV     ?V1,#(`?<Constant "#ID">` >> 8) & 0xff
   \   000036   75..00       MOV     ?V2,#0x0
   \   000039   78..         MOV     R0,#?V0
   \   00003B   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003E   7C03         MOV     R4,#0x3
   \   000040   7D00         MOV     R5,#0x0
   \   000042   8E82         MOV     DPL,R6
   \   000044   8F83         MOV     DPH,R7
   \   000046   A982         MOV     R1,DPL
   \   000048   AA83         MOV     R2,DPH
   \   00004A   7B00         MOV     R3,#0x0
   \   00004C   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   00004F   7403         MOV     A,#0x3
   \   000051   12....       LCALL   ?DEALLOC_XSTACK8
   \   000054   E9           MOV     A,R1
   \   000055   7003         JNZ     $+5
   \   000057   02....       LJMP    ??SampleApp_SerialCMD_1 & 0xFFFF
    841                {
    842                  if(len == 5) //读取设备ID
   \   00005A   7405         MOV     A,#0x5
   \   00005C   65..         XRL     A,?V3
   \   00005E   7015         JNZ     ??SampleApp_SerialCMD_2
    843                  {          
    844                    printf("<ID,%03u>\r\n", sensor_id);
   \   000060                ; Setup parameters for call to function printf
   \   000060   90....       MOV     DPTR,#sensor_id
   \   000063   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000066   7A..         MOV     R2,#`?<Constant "<ID,%03u>\\r\\n">` & 0xff
   \   000068   7B..         MOV     R3,#(`?<Constant "<ID,%03u>\\r\\n">` >> 8) & 0xff
   \                     ??SampleApp_SerialCMD_3:
   \   00006A   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   00006D   7402         MOV     A,#0x2
   \   00006F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000072   02....       LJMP    ??SampleApp_SerialCMD_4 & 0xFFFF
    845                  }
    846                  else //设置设备ID
    847                  {
    848                    int temp_id;
    849                    
    850                    sscanf(str+4, "%d", &temp_id);                           
                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   \                     ??SampleApp_SerialCMD_2:
   \   000075                ; Setup parameters for call to function sscanf
   \   000075   A8..         MOV     R0,?XSP + 0
   \   000077   A9..         MOV     R1,?XSP + 1
   \   000079   88..         MOV     ?V0,R0
   \   00007B   89..         MOV     ?V1,R1
   \   00007D   78..         MOV     R0,#?V0
   \   00007F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000082   7C..         MOV     R4,#`?<Constant "%d">` & 0xff
   \   000084   7D..         MOV     R5,#(`?<Constant "%d">` >> 8) & 0xff
   \   000086   12....       LCALL   ??Subroutine17_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   000089   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   00008C   7402         MOV     A,#0x2
   \   00008E   12....       LCALL   ?DEALLOC_XSTACK8
    851                    if(temp_id>=1 && temp_id<=3)
   \   000091   85..82       MOV     DPL,?XSP + 0
   \   000094   85..83       MOV     DPH,?XSP + 1
   \   000097   E0           MOVX    A,@DPTR
   \   000098   24FF         ADD     A,#-0x1
   \   00009A   F8           MOV     R0,A
   \   00009B   A3           INC     DPTR
   \   00009C   E0           MOVX    A,@DPTR
   \   00009D   34FF         ADDC    A,#-0x1
   \   00009F   F9           MOV     R1,A
   \   0000A0   C3           CLR     C
   \   0000A1   E8           MOV     A,R0
   \   0000A2   9403         SUBB    A,#0x3
   \   0000A4   E9           MOV     A,R1
   \   0000A5   9400         SUBB    A,#0x0
   \   0000A7   5054         JNC     ??SampleApp_SerialCMD_0
    852                    {
    853                      sensor_id = temp_id;
   \   0000A9   85..82       MOV     DPL,?XSP + 0
   \   0000AC   85..83       MOV     DPH,?XSP + 1
   \   0000AF   08           INC     R0
   \   0000B0   A3           INC     DPTR
   \   0000B1   E0           MOVX    A,@DPTR
   \   0000B2   F9           MOV     R1,A
   \   0000B3   90....       MOV     DPTR,#sensor_id
   \   0000B6   E8           MOV     A,R0
   \   0000B7   F0           MOVX    @DPTR,A
   \   0000B8   A3           INC     DPTR
   \   0000B9   E9           MOV     A,R1
   \   0000BA   F0           MOVX    @DPTR,A
    854                      
    855                      /* 设备ID存入flash */
    856                      sprintf(dev_id, "%03u", sensor_id);
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
   \   0000BB                ; Setup parameters for call to function sprintf
   \   0000BB   90....       MOV     DPTR,#sensor_id
   \   0000BE   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0000C1   7C..         MOV     R4,#`?<Constant "%03u">` & 0xff
   \   0000C3   7D..         MOV     R5,#(`?<Constant "%03u">` >> 8) & 0xff
   \   0000C5   7A..         MOV     R2,#dev_id & 0xff
   \   0000C7   7B..         MOV     R3,#(dev_id >> 8) & 0xff
   \   0000C9   12....       LCALL   ??sprintf?relay      ; Banked call to: sprintf
   \   0000CC   7402         MOV     A,#0x2
   \   0000CE   12....       LCALL   ?DEALLOC_XSTACK8
    857                      
    858                      if(SUCCESS == osal_nv_write(DEVICE_ID, 0, DEVICE_ID_LEN, dev_id))
   \   0000D1                ; Setup parameters for call to function osal_nv_write
   \   0000D1   75....       MOV     ?V0,#dev_id & 0xff
   \   0000D4   75....       MOV     ?V1,#(dev_id >> 8) & 0xff
   \   0000D7   78..         MOV     R0,#?V0
   \   0000D9   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000DC   75..03       MOV     ?V0,#0x3
   \   0000DF   75..00       MOV     ?V1,#0x0
   \   0000E2   78..         MOV     R0,#?V0
   \   0000E4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000E7   7C00         MOV     R4,#0x0
   \   0000E9   7D00         MOV     R5,#0x0
   \   0000EB   7A01         MOV     R2,#0x1
   \   0000ED   7B04         MOV     R3,#0x4
   \   0000EF   12....       LCALL   ??osal_nv_write?relay; Banked call to: osal_nv_write
   \   0000F2   7404         MOV     A,#0x4
   \   0000F4   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000F7   E9           MOV     A,R1
   \   0000F8   7003         JNZ     $+5
   \   0000FA   02....       LJMP    ??SampleApp_SerialCMD_5 & 0xFFFF
    859                        ReturnTorF( 1, 1 ); //存入成功
    860                      else
    861                        ReturnTorF( 0, 1 ); //存入失败
    862                    }
    863                    else
    864                    {
    865                      ReturnTorF( 0, 1 ); //错误
    866                    }
    867                  }
    868                }
    869                
    870                //光合表读取和设置（GH）
    871                else if(osal_memcmp(str,"#GH",3))
    872                {
    873                  if(len == 5) //读取光合表系数
    874                  {
    875                    printf("<GH,%03u,%.2f>\r\n", sensor_id, gh_factor);
    876                  }
    877                  else //设置光合表系数
    878                  {
    879                    float temp_gh;
    880                    char *p = NULL;
    881                    
    882                    p = strchr(str, ','); //查找第一个","出现的位置
                                      ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
    883                    p = strchr(p+1, ','); //查找第二个","出现的位置
    884                    sscanf(p+1, "%f", &temp_gh);
    885                    if(temp_gh>=1.0)
    886                    {
    887                      gh_factor = temp_gh;
    888                      
    889                      /* 光合表系数存入flash */
    890                      sprintf(dev_gh, "%5.2f", gh_factor);
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
    891                      
    892                      if(SUCCESS == osal_nv_write(DEVICE_GH, 0, DEVICE_GH_LEN, dev_gh))
    893                        ReturnTorF( 1, 1 ); //存入成功
    894                      else
    895                        ReturnTorF( 0, 1 ); //存入失败
    896                    }
    897                    else
    898                    {
    899                      ReturnTorF( 0, 1 ); //错误
    900                    }
    901                  }
    902                }
    903                
    904                //复位指令（RS）
    905                else if(osal_memcmp(str,"#RS",3)) 
    906                {
    907                  /* 复位 */
    908                  if((len>5)&&(atoi(str+4)!=0))  //参数不为0清除掉网络信息
                                           ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
    909                  {
    910                    zgWriteStartupOptions(ZG_STARTUP_SET, ZCD_STARTOPT_DEFAULT_NETWORK_STATE);
    911                    printf("clear\r\n");
    912                  }
    913                  ReturnTorF( 1, 1 );//复位成功
    914                  rs_flag = 1;//置位停止喂狗标志
    915                }
    916                
    917                //温度订正（CR）
    918                else if(osal_memcmp(str,"#CR",3)) //温度订正
    919                {
    920                  if( len == 5 ) //读取温度订正值
    921                  {
    922                    printf("<CR,%.2f>\r\n", cal_t0);
    923                  }
    924                  else if( len > 5 )
    925                  {
    926                    float temp_wddt;
    927                    char *p = NULL;
    928                      
    929                    p = strchr(str, ','); //查找第一个","出现的位置
                                      ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
    930                    sscanf( p+1, "%f", &temp_wddt);
    931                    if( temp_wddt>-10.0 && temp_wddt<10.00 )
    932                    {
    933                      cal_t0 = temp_wddt;
    934                       /* 温度订正存入flash */
    935                      sprintf(dev_wddt, "%5.2f", cal_t0);
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char *"
    936                      
    937                      if(SUCCESS == osal_nv_write(DEVICE_WDDT, 0, DEVICE_WDDT_LEN, dev_wddt))
    938                        ReturnTorF( 1, 1 ); //存入成功
    939                      else
    940                        ReturnTorF( 0, 1 ); //存入失败
    941                      
    942                    }
    943                    else
    944                    {
    945                      ReturnTorF( 0, 1 );
    946                    }
    947                     
    948                  }
    949                  else
    950                  {
    951                    ReturnTorF( 0, 1 );
    952                  }
    953                }
    954          #endif
    955                //查询或设置PANID（PD）
    956                else if(osal_memcmp(str,"#PD",3))
    957                {
    958                  if(len==5)  //读取
    959                  {
    960                    printf("<PD,0x%04X>\r\n", _NIB.nwkPanId);
    961                  }
    962                  else if(len>5)  //设置
    963                  {
    964                    uint16 panid=0;
    965                    
    966                    sscanf(str+4,"%x",&panid);  //得到新的PanID
                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
    967                    _NIB.nwkPanId=panid;  //更新PanID
    968                    
    969                    /* 2017.4.10添加使能NV_INIT和NV_RESTORE时设置channel和panid时同时清除掉节点保存的协调器网络信息，
    970                       这样便可以在更改channel或panid后加入有相同channel和panid的任意协调器的网络而不会更换协调器后无法入网，
    971                       但还是需要重启节点才能加入新网络，而且PANID编译时需要设为0xFFFF，channel要选则全部11-26通道 */
    972                    _NIB.nwkCoordAddress = INVALID_NODE_ADDR;
    973                    osal_memset( _NIB.nwkCoordExtAddress, 0, Z_EXTADDR_LEN );
    974                    /* */
    975                    
    976                    NLME_UpdateNV(0x01);  //将 NIB 信息存入 NV 中，重启后使用新的PanID
    977                    
    978                    ReturnTorF( 1, 1 );
    979                  }
    980                  else
    981                  {
    982                    ReturnTorF( 0, 1 );
    983                  }
    984                }
    985                
    986                //查询设置信道号（CH）
    987                else if(osal_memcmp(str,"#CH",3))
    988                {
    989                  if(len==5)  //读取
    990                  {
    991                    printf("<CH,0x%02X>\r\n", _NIB.nwkLogicalChannel);
    992                  }
    993                  else if(len>5)  //设置
    994                  {
    995                    uint16 channel=0;
    996                    
    997                    sscanf(str+4,"%x",&channel);  //得到新的channel
                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
    998                    _NIB.nwkLogicalChannel=channel;  //更新channel
    999                    
   1000                    /* 2017.4.10添加使能NV_INIT和NV_RESTORE时设置channel和panid时同时清除掉节点保存的协调器网络信息，
   1001                       这样便可以在更改channel或panid后加入有相同channel和panid的任意协调器的网络而不会更换协调器后无法入网，
   1002                       但还是需要重启节点才能加入新网络，而且PANID编译时需要设为0xFFFF，channel要选则全部11-26通道 */
   1003                    _NIB.nwkCoordAddress = INVALID_NODE_ADDR;
   1004                    osal_memset( _NIB.nwkCoordExtAddress, 0, Z_EXTADDR_LEN );
   1005                    /* */
   1006                    
   1007                    NLME_UpdateNV(0x01);  //将 NIB 信息存入 NV 中，重启后应用
   1008                    
   1009                    ReturnTorF( 1, 1 );
   1010                  }
   1011                  else
   1012                  {
   1013                    ReturnTorF( 0, 1 );
   1014                  }
   1015                }
   1016                
   1017                //查询短地址（SA）
   1018                else if(osal_memcmp(str,"#SA",3))
   1019                {
   1020                  printf("<SA,0x%04X>\r\n", _NIB.nwkDevAddress);
   1021                }
   1022                
   1023                /* 2017.4.10添加修改入网时默认的chennel和panid，不打开NV_INIT和NV_RESTORE；
   1024                   仅终端节点添加，协调器还是使用NV_INIT和NV_RESTORE保持不变，因为协调器需要保存网络信息如邻居表等，
   1025                   这样终端节点重新入网后地址等信息不会改变 */
   1026                /* 16.8.5添加DCH和CPD命令读取和设置默认入网信道和PANID，这样原来的CH和PD命令用来查看当前网络的信道和PANID */
   1027                //查询或设置默认入网PANID（DPD）
   1028                else if(osal_memcmp(str,"#DPD",3))
   1029                {
   1030                  if(len==6)  //读取
   1031                  {
   1032                    printf("<DPD,0x%04X>\r\n", zgConfigPANID);   /* 默认PANID */
   1033                  }
   1034                  else if(len>6)  //设置
   1035                  {
   1036                    uint16 panid=0;
   1037                    
   1038                    sscanf(str+5,"%x",&panid);  //得到新的PanID
                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   1039                    
   1040                    extern uint8 nvItemInit( uint16 id, uint16 len, void *buf, uint8 set );
   1041                    zgConfigPANID = panid;   /* 修改默认panid */
   1042                    //保存到NV
   1043                    if(nvItemInit(ZCD_NV_PANID,sizeof(zgConfigPANID), &zgConfigPANID,TRUE) != ZSUCCESS)
   1044                    {
   1045                      printf("<DPD,F>\r\n");
   1046                    }
   1047                    else
   1048                    {
   1049                      printf("<DPD,T>\r\n");
   1050                    }
   1051                    
   1052                  }
   1053                  else
   1054                  {
   1055                    printf("<DPD,F>\r\n");
   1056                  }
   1057                }
   1058                
   1059                
   1060                //查询设置默认入网信道号（DCH）
   1061                else if(osal_memcmp(str,"#DCH",4))
   1062                {
   1063                  if(len==6)  //读取
   1064                  {
   1065                    if(zgDefaultChannelList == MAX_CHANNELS_24GHZ)  //通道全选
   1066                    {
   1067                      printf("<DCH,ALL>\r\n");
   1068                    }
   1069                    else
   1070                    {
   1071                      for(i=11;i<=26;i++)  //根据channel list得到信道，信道设置时只选一个或者全选
   1072                      {
   1073                        if(zgDefaultChannelList&((uint32)1<<i)) break;
   1074                      }
   1075                      printf("<DCH,0x%02X>\r\n", i);
   1076                    }
   1077                  }
   1078                  else if(len>6)  //设置
   1079                  {
   1080                    uint16 channel=0;
   1081                    
   1082                    sscanf(str+5,"%x",&channel);  //得到新的channel
                                  ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"
   1083                    
   1084                    /* 2017.4.10如果信道设置为"ALL"或"all"时表示通道全选，此时将channel设为0表示通道全选 */
   1085                    if(osal_memcmp(str+5,"ALL",3) || osal_memcmp(str+5,"all",3))  //11-26通道全选
   1086                    {
   1087                      channel=0;
   1088                    }
   1089                    
   1090                    extern uint8 nvItemInit( uint16 id, uint16 len, void *buf, uint8 set );
   1091                    if(((channel<11) || (channel>26)) && (channel!=0))  //无效信道且不为0
   1092                    {
   1093                      printf("<CH,F>\r\n");
   1094                    }
   1095                    else
   1096                    {
   1097                      //根据channel得到channel list，注意强制类型转换
   1098                      if(channel==0)  //为0时将信道全选
   1099                      {
   1100                        zgDefaultChannelList=MAX_CHANNELS_24GHZ;
   1101                      }
   1102                      else
   1103                      {
   1104                        zgDefaultChannelList=(uint32)((uint32)1<<channel);
   1105                      }
   1106                      printf("<CH,0x%02X,0x%08lX>\r\n", channel, zgDefaultChannelList);
   1107                      //保存到NV
   1108                      if(nvItemInit(ZCD_NV_CHANLIST,sizeof(zgDefaultChannelList), &zgDefaultChannelList,TRUE) != ZSUCCESS)
   1109                      {
   1110                        printf("<DCH,F>\r\n");
   1111                      }
   1112                      else
   1113                      {
   1114                        printf("<DCH,T>\r\n");
   1115                      }
   1116                    }
   1117                  }
   1118                  else
   1119                  {
   1120                    printf("<DCH,F>\r\n");
   1121                  }
   1122                }
   1123                
   1124                //调试信息开关（DG）
   1125                else if(osal_memcmp(str,"#DG",3)) 
   1126                {
   1127                  int temp;
   1128                  
   1129                  temp = atoi(str+4);
                                     ^
Warning[Pe167]: argument of type "unsigned char *" is incompatible with
          parameter of type "char const *"

     int numbers;
         ^
"D:\简宝山\寿县17-09-01 25\程序\无线节点程序\code\Projects\zstack\Samples\SampleApp\Source\SampleApp.c",791  Warning[Pe177]: 
          variable "numbers" was declared but never referenced
   1130                  if(temp==0||temp==1)
   1131                  {
   1132                    debug = temp;
   1133                    ReturnTorF( 1, 1 ); //正确
   1134                  }
   1135                  else
   1136                  {
   1137                    ReturnTorF( 0, 1 ); //错误
   1138                  }
   1139                  
   1140                }
   1141                else
   1142                {
   1143                  ReturnTorF( 0, 1 ); //错误
   1144                }
   1145             }
   1146             else
   1147             {
   1148                ReturnTorF( 0, 1 ); //错误
   \                     ??SampleApp_SerialCMD_0:
   \   0000FD                ; Setup parameters for call to function ReturnTorF
   \   0000FD   7C01         MOV     R4,#0x1
   \   0000FF   7D00         MOV     R5,#0x0
   \   000101   7A00         MOV     R2,#0x0
   \                     ??SampleApp_SerialCMD_6:
   \   000103   7B00         MOV     R3,#0x0
   \   000105   12....       LCALL   ??ReturnTorF?relay   ; Banked call to: ReturnTorF
   1149             }
   1150             
   1151          }
   \                     ??SampleApp_SerialCMD_4:
   \   000108   740A         MOV     A,#0xa
   \   00010A   02....       LJMP    ?Subroutine0 & 0xFFFF
   \                     ??SampleApp_SerialCMD_1:
   \   00010D                ; Setup parameters for call to function osal_memcmp
   \   00010D   75....       MOV     ?V0,#`?<Constant "#GH">` & 0xff
   \   000110   75....       MOV     ?V1,#(`?<Constant "#GH">` >> 8) & 0xff
   \   000113   78..         MOV     R0,#?V0
   \   000115   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000118   7C03         MOV     R4,#0x3
   \   00011A   7D00         MOV     R5,#0x0
   \   00011C   8E82         MOV     DPL,R6
   \   00011E   8F83         MOV     DPH,R7
   \   000120   A982         MOV     R1,DPL
   \   000122   AA83         MOV     R2,DPH
   \   000124   7B00         MOV     R3,#0x0
   \   000126   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   000129   7403         MOV     A,#0x3
   \   00012B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00012E   E9           MOV     A,R1
   \   00012F   7003         JNZ     $+5
   \   000131   02....       LJMP    ??SampleApp_SerialCMD_7 & 0xFFFF
   \   000134   7405         MOV     A,#0x5
   \   000136   65..         XRL     A,?V3
   \   000138   701A         JNZ     ??SampleApp_SerialCMD_8
   \   00013A                ; Setup parameters for call to function printf
   \   00013A   90....       MOV     DPTR,#gh_factor
   \   00013D   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000140   90....       MOV     DPTR,#sensor_id
   \   000143   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000146   7A..         MOV     R2,#`?<Constant "<GH,%03u,%.2f>\\r\\n">` & 0xff
   \   000148   7B..         MOV     R3,#(`?<Constant "<GH,%03u,%.2f>\\r\\n">` >> 8) & 0xff
   \   00014A   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   00014D   7406         MOV     A,#0x6
   \   00014F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000152   80B4         SJMP    ??SampleApp_SerialCMD_4
   \                     ??SampleApp_SerialCMD_8:
   \   000154                ; Setup parameters for call to function sscanf
   \   000154   7406         MOV     A,#0x6
   \   000156   12....       LCALL   ?XSTACK_DISP100_8
   \   000159   88..         MOV     ?V0,R0
   \   00015B   89..         MOV     ?V1,R1
   \   00015D   78..         MOV     R0,#?V0
   \   00015F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000162   7C..         MOV     R4,#`?<Constant "%f">` & 0xff
   \   000164   7D..         MOV     R5,#(`?<Constant "%f">` >> 8) & 0xff
   \   000166   EC           MOV     A,R4
   \   000167   C0E0         PUSH    A
   \   000169   ED           MOV     A,R5
   \   00016A   C0E0         PUSH    A
   \   00016C                ; Setup parameters for call to function strchr
   \   00016C   7C2C         MOV     R4,#0x2c
   \   00016E   EC           MOV     A,R4
   \   00016F   C0E0         PUSH    A
   \   000171   E4           CLR     A
   \   000172   C0E0         PUSH    A
   \   000174   FD           MOV     R5,A
   \   000175                ; Setup parameters for call to function strchr
   \   000175   EE           MOV     A,R6
   \   000176   FA           MOV     R2,A
   \   000177   EF           MOV     A,R7
   \   000178   FB           MOV     R3,A
   \   000179   12....       LCALL   ??strchr?relay       ; Banked call to: strchr
   \   00017C   8A82         MOV     DPL,R2
   \   00017E   8B83         MOV     DPH,R3
   \   000180   A3           INC     DPTR
   \   000181   AA82         MOV     R2,DPL
   \   000183   AB83         MOV     R3,DPH
   \   000185   D0E0         POP     A
   \   000187   FD           MOV     R5,A
   \   000188   D0E0         POP     A
   \   00018A   FC           MOV     R4,A
   \   00018B   12....       LCALL   ??strchr?relay       ; Banked call to: strchr
   \   00018E   8A82         MOV     DPL,R2
   \   000190   8B83         MOV     DPH,R3
   \   000192   A3           INC     DPTR
   \   000193   AA82         MOV     R2,DPL
   \   000195   AB83         MOV     R3,DPH
   \   000197   D0E0         POP     A
   \   000199   FD           MOV     R5,A
   \   00019A   D0E0         POP     A
   \   00019C   FC           MOV     R4,A
   \   00019D   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   0001A0   7402         MOV     A,#0x2
   \   0001A2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001A5   7406         MOV     A,#0x6
   \   0001A7   12....       LCALL   ?XSTACK_DISP0_8
   \   0001AA   78..         MOV     R0,#?V0
   \   0001AC   12....       LCALL   ?L_MOV_X
   \   0001AF   90....       MOV     DPTR,#__Constant_3f800000
   \   0001B2   78..         MOV     R0,#?V4
   \   0001B4   12....       LCALL   ?L_MOV_X
   \   0001B7   78..         MOV     R0,#?V0
   \   0001B9   79..         MOV     R1,#?V4
   \   0001BB   12....       LCALL   ?FLT_GE
   \   0001BE   4003         JC      $+5
   \   0001C0   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \   0001C3   7406         MOV     A,#0x6
   \   0001C5   12....       LCALL   ?XSTACK_DISP0_8
   \   0001C8   12....       LCALL   ?XLOAD_R0123
   \   0001CB   90....       MOV     DPTR,#gh_factor
   \   0001CE   12....       LCALL   ?XSTORE_R0123
   \   0001D1                ; Setup parameters for call to function sprintf
   \   0001D1   90....       MOV     DPTR,#gh_factor
   \   0001D4   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0001D7   7C..         MOV     R4,#`?<Constant "%5.2f">` & 0xff
   \   0001D9   7D..         MOV     R5,#(`?<Constant "%5.2f">` >> 8) & 0xff
   \   0001DB   7A..         MOV     R2,#dev_gh & 0xff
   \   0001DD   7B..         MOV     R3,#(dev_gh >> 8) & 0xff
   \   0001DF   12....       LCALL   ??sprintf?relay      ; Banked call to: sprintf
   \   0001E2   7404         MOV     A,#0x4
   \   0001E4   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001E7                ; Setup parameters for call to function osal_nv_write
   \   0001E7   75....       MOV     ?V0,#dev_gh & 0xff
   \   0001EA   75....       MOV     ?V1,#(dev_gh >> 8) & 0xff
   \   0001ED   78..         MOV     R0,#?V0
   \   0001EF   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001F2   75..05       MOV     ?V0,#0x5
   \   0001F5   75..00       MOV     ?V1,#0x0
   \   0001F8   78..         MOV     R0,#?V0
   \   0001FA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001FD   7C00         MOV     R4,#0x0
   \   0001FF   7D00         MOV     R5,#0x0
   \   000201   7A00         MOV     R2,#0x0
   \   000203   7B05         MOV     R3,#0x5
   \   000205   12....       LCALL   ??osal_nv_write?relay; Banked call to: osal_nv_write
   \   000208   7404         MOV     A,#0x4
   \   00020A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00020D   E9           MOV     A,R1
   \   00020E   6003         JZ      $+5
   \   000210   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \   000213   02....       LJMP    ??SampleApp_SerialCMD_5 & 0xFFFF
   \                     ??SampleApp_SerialCMD_7:
   \   000216                ; Setup parameters for call to function osal_memcmp
   \   000216   75....       MOV     ?V0,#`?<Constant "#RS">` & 0xff
   \   000219   75....       MOV     ?V1,#(`?<Constant "#RS">` >> 8) & 0xff
   \   00021C   78..         MOV     R0,#?V0
   \   00021E   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000221   7C03         MOV     R4,#0x3
   \   000223   7D00         MOV     R5,#0x0
   \   000225   8E82         MOV     DPL,R6
   \   000227   8F83         MOV     DPH,R7
   \   000229   A982         MOV     R1,DPL
   \   00022B   AA83         MOV     R2,DPH
   \   00022D   7B00         MOV     R3,#0x0
   \   00022F   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   000232   7403         MOV     A,#0x3
   \   000234   12....       LCALL   ?DEALLOC_XSTACK8
   \   000237   E9           MOV     A,R1
   \   000238   6033         JZ      ??SampleApp_SerialCMD_9
   \   00023A   E5..         MOV     A,?V3
   \   00023C   C3           CLR     C
   \   00023D   9406         SUBB    A,#0x6
   \   00023F   401B         JC      ??SampleApp_SerialCMD_10
   \   000241                ; Setup parameters for call to function atoi
   \   000241   12....       LCALL   ??Subroutine17_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_44:
   \   000244   12....       LCALL   ??atoi?relay         ; Banked call to: atoi
   \   000247   8B..         MOV     ?V1,R3
   \   000249   EA           MOV     A,R2
   \   00024A   45..         ORL     A,?V1
   \   00024C   600E         JZ      ??SampleApp_SerialCMD_10
   \   00024E                ; Setup parameters for call to function zgWriteStartupOptions
   \   00024E   7A02         MOV     R2,#0x2
   \   000250   79FF         MOV     R1,#-0x1
   \   000252   12....       LCALL   ??zgWriteStartupOptions?relay; Banked call to: zgWriteStartupOptions
   \   000255                ; Setup parameters for call to function printf
   \   000255   7A..         MOV     R2,#`?<Constant "clear\\r\\n">` & 0xff
   \   000257   7B..         MOV     R3,#(`?<Constant "clear\\r\\n">` >> 8) & 0xff
   \   000259   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \                     ??SampleApp_SerialCMD_10:
   \   00025C                ; Setup parameters for call to function ReturnTorF
   \   00025C   7C01         MOV     R4,#0x1
   \   00025E   7D00         MOV     R5,#0x0
   \   000260   7A01         MOV     R2,#0x1
   \   000262   7B00         MOV     R3,#0x0
   \   000264   12....       LCALL   ??ReturnTorF?relay   ; Banked call to: ReturnTorF
   \   000267   12....       LCALL   ?Subroutine5 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   00026A   02....       LJMP    ??SampleApp_SerialCMD_4 & 0xFFFF
   \                     ??SampleApp_SerialCMD_9:
   \   00026D                ; Setup parameters for call to function osal_memcmp
   \   00026D   75....       MOV     ?V0,#`?<Constant "#CR">` & 0xff
   \   000270   75....       MOV     ?V1,#(`?<Constant "#CR">` >> 8) & 0xff
   \   000273   78..         MOV     R0,#?V0
   \   000275   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000278   7C03         MOV     R4,#0x3
   \   00027A   7D00         MOV     R5,#0x0
   \   00027C   8E82         MOV     DPL,R6
   \   00027E   8F83         MOV     DPH,R7
   \   000280   A982         MOV     R1,DPL
   \   000282   AA83         MOV     R2,DPH
   \   000284   7B00         MOV     R3,#0x0
   \   000286   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   000289   7403         MOV     A,#0x3
   \   00028B   12....       LCALL   ?DEALLOC_XSTACK8
   \   00028E   E9           MOV     A,R1
   \   00028F   7003         JNZ     $+5
   \   000291   02....       LJMP    ??SampleApp_SerialCMD_11 & 0xFFFF
   \   000294   7405         MOV     A,#0x5
   \   000296   65..         XRL     A,?V3
   \   000298   7015         JNZ     ??SampleApp_SerialCMD_12
   \   00029A                ; Setup parameters for call to function printf
   \   00029A   90....       MOV     DPTR,#cal_t0
   \   00029D   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0002A0   7A..         MOV     R2,#`?<Constant "<CR,%.2f>\\r\\n">` & 0xff
   \   0002A2   7B..         MOV     R3,#(`?<Constant "<CR,%.2f>\\r\\n">` >> 8) & 0xff
   \   0002A4   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   0002A7   7404         MOV     A,#0x4
   \   0002A9   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002AC   02....       LJMP    ??SampleApp_SerialCMD_4 & 0xFFFF
   \                     ??SampleApp_SerialCMD_12:
   \   0002AF   E5..         MOV     A,?V3
   \   0002B1   C3           CLR     C
   \   0002B2   9406         SUBB    A,#0x6
   \   0002B4   5003         JNC     $+5
   \   0002B6   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \   0002B9                ; Setup parameters for call to function sscanf
   \   0002B9   7402         MOV     A,#0x2
   \   0002BB   12....       LCALL   ?XSTACK_DISP100_8
   \   0002BE   88..         MOV     ?V0,R0
   \   0002C0   89..         MOV     ?V1,R1
   \   0002C2   78..         MOV     R0,#?V0
   \   0002C4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0002C7   7C..         MOV     R4,#`?<Constant "%f">` & 0xff
   \   0002C9   EC           MOV     A,R4
   \   0002CA   C0E0         PUSH    A
   \   0002CC   74..         MOV     A,#(`?<Constant "%f">` >> 8) & 0xff
   \   0002CE   C0E0         PUSH    A
   \   0002D0                ; Setup parameters for call to function strchr
   \   0002D0   7C2C         MOV     R4,#0x2c
   \   0002D2   7D00         MOV     R5,#0x0
   \   0002D4   EE           MOV     A,R6
   \   0002D5   FA           MOV     R2,A
   \   0002D6   EF           MOV     A,R7
   \   0002D7   FB           MOV     R3,A
   \   0002D8   12....       LCALL   ??strchr?relay       ; Banked call to: strchr
   \   0002DB   8A82         MOV     DPL,R2
   \   0002DD   8B83         MOV     DPH,R3
   \   0002DF   A3           INC     DPTR
   \   0002E0   AA82         MOV     R2,DPL
   \   0002E2   AB83         MOV     R3,DPH
   \   0002E4   D0E0         POP     A
   \   0002E6   FD           MOV     R5,A
   \   0002E7   D0E0         POP     A
   \   0002E9   FC           MOV     R4,A
   \   0002EA   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   0002ED   7402         MOV     A,#0x2
   \   0002EF   12....       LCALL   ?DEALLOC_XSTACK8
   \   0002F2   7402         MOV     A,#0x2
   \   0002F4   12....       LCALL   ?XSTACK_DISP0_8
   \   0002F7   78..         MOV     R0,#?V0
   \   0002F9   12....       LCALL   ?L_MOV_X
   \   0002FC   90....       MOV     DPTR,#__Constant_c11fffff
   \   0002FF   78..         MOV     R0,#?V4
   \   000301   12....       LCALL   ?L_MOV_X
   \   000304   78..         MOV     R0,#?V0
   \   000306   79..         MOV     R1,#?V4
   \   000308   12....       LCALL   ?FLT_GE
   \   00030B   4003         JC      $+5
   \   00030D   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \   000310   7402         MOV     A,#0x2
   \   000312   12....       LCALL   ?XSTACK_DISP0_8
   \   000315   78..         MOV     R0,#?V0
   \   000317   12....       LCALL   ?L_MOV_X
   \   00031A   90....       MOV     DPTR,#__Constant_41200000
   \   00031D   78..         MOV     R0,#?V4
   \   00031F   12....       LCALL   ?L_MOV_X
   \   000322   78..         MOV     R0,#?V0
   \   000324   79..         MOV     R1,#?V4
   \   000326   12....       LCALL   ?FLT_LT
   \   000329   4003         JC      $+5
   \   00032B   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \   00032E   7402         MOV     A,#0x2
   \   000330   12....       LCALL   ?XSTACK_DISP0_8
   \   000333   12....       LCALL   ?XLOAD_R0123
   \   000336   90....       MOV     DPTR,#cal_t0
   \   000339   12....       LCALL   ?XSTORE_R0123
   \   00033C                ; Setup parameters for call to function sprintf
   \   00033C   90....       MOV     DPTR,#cal_t0
   \   00033F   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000342   7C..         MOV     R4,#`?<Constant "%5.2f">` & 0xff
   \   000344   7D..         MOV     R5,#(`?<Constant "%5.2f">` >> 8) & 0xff
   \   000346   7A..         MOV     R2,#dev_wddt & 0xff
   \   000348   7B..         MOV     R3,#(dev_wddt >> 8) & 0xff
   \   00034A   12....       LCALL   ??sprintf?relay      ; Banked call to: sprintf
   \   00034D   7404         MOV     A,#0x4
   \   00034F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000352                ; Setup parameters for call to function osal_nv_write
   \   000352   75....       MOV     ?V0,#dev_wddt & 0xff
   \   000355   75....       MOV     ?V1,#(dev_wddt >> 8) & 0xff
   \   000358   78..         MOV     R0,#?V0
   \   00035A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00035D   75..05       MOV     ?V0,#0x5
   \   000360   75..00       MOV     ?V1,#0x0
   \   000363   78..         MOV     R0,#?V0
   \   000365   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000368   7C00         MOV     R4,#0x0
   \   00036A   7D00         MOV     R5,#0x0
   \   00036C   7A00         MOV     R2,#0x0
   \   00036E   7B06         MOV     R3,#0x6
   \   000370   12....       LCALL   ??osal_nv_write?relay; Banked call to: osal_nv_write
   \   000373   7404         MOV     A,#0x4
   \   000375   12....       LCALL   ?DEALLOC_XSTACK8
   \   000378   E9           MOV     A,R1
   \   000379   6003         JZ      $+5
   \   00037B   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \                     ??SampleApp_SerialCMD_5:
   \   00037E                ; Setup parameters for call to function ReturnTorF
   \   00037E   7C01         MOV     R4,#0x1
   \   000380   7D00         MOV     R5,#0x0
   \   000382   7A01         MOV     R2,#0x1
   \   000384   02....       LJMP    ??SampleApp_SerialCMD_6 & 0xFFFF
   \                     ??SampleApp_SerialCMD_11:
   \   000387                ; Setup parameters for call to function osal_memcmp
   \   000387   75....       MOV     ?V0,#`?<Constant "#PD">` & 0xff
   \   00038A   75....       MOV     ?V1,#(`?<Constant "#PD">` >> 8) & 0xff
   \   00038D   78..         MOV     R0,#?V0
   \   00038F   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000392   7C03         MOV     R4,#0x3
   \   000394   7D00         MOV     R5,#0x0
   \   000396   8E82         MOV     DPL,R6
   \   000398   8F83         MOV     DPH,R7
   \   00039A   A982         MOV     R1,DPL
   \   00039C   AA83         MOV     R2,DPH
   \   00039E   7B00         MOV     R3,#0x0
   \   0003A0   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   0003A3   7403         MOV     A,#0x3
   \   0003A5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0003A8   E9           MOV     A,R1
   \   0003A9   6057         JZ      ??SampleApp_SerialCMD_13
   \   0003AB   7405         MOV     A,#0x5
   \   0003AD   65..         XRL     A,?V3
   \   0003AF   700D         JNZ     ??SampleApp_SerialCMD_14
   \   0003B1                ; Setup parameters for call to function printf
   \   0003B1   90....       MOV     DPTR,#_NIB + 33
   \   0003B4   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0003B7   7A..         MOV     R2,#`?<Constant "<PD,0x%04X>\\r\\n">` & 0xff
   \   0003B9   7B..         MOV     R3,#(`?<Constant "<PD,0x%04X>\\r\\n">` >> 8) & 0xff
   \   0003BB   02....       LJMP    ??SampleApp_SerialCMD_3 & 0xFFFF
   \                     ??SampleApp_SerialCMD_14:
   \   0003BE   E5..         MOV     A,?V3
   \   0003C0   C3           CLR     C
   \   0003C1   9406         SUBB    A,#0x6
   \   0003C3   5003         JNC     $+5
   \   0003C5   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \   0003C8   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_0:
   \   0003CB   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0003CE   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   0003D1   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   0003D4   7402         MOV     A,#0x2
   \   0003D6   12....       LCALL   ?DEALLOC_XSTACK8
   \   0003D9   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   0003DC   90....       MOV     DPTR,#_NIB + 33
   \   0003DF   E8           MOV     A,R0
   \   0003E0   F0           MOVX    @DPTR,A
   \   0003E1   A3           INC     DPTR
   \   0003E2   E9           MOV     A,R1
   \   0003E3   F0           MOVX    @DPTR,A
   \   0003E4   90....       MOV     DPTR,#_NIB + 23
   \                     ??SampleApp_SerialCMD_15:
   \   0003E7   74FE         MOV     A,#-0x2
   \   0003E9   F0           MOVX    @DPTR,A
   \   0003EA   A3           INC     DPTR
   \   0003EB   04           INC     A
   \   0003EC   F0           MOVX    @DPTR,A
   \   0003ED                ; Setup parameters for call to function osal_memset
   \   0003ED   7C08         MOV     R4,#0x8
   \   0003EF   7D00         MOV     R5,#0x0
   \   0003F1   7900         MOV     R1,#0x0
   \   0003F3   7A..         MOV     R2,#(_NIB + 25) & 0xff
   \   0003F5   7B..         MOV     R3,#((_NIB + 25) >> 8) & 0xff
   \   0003F7   12....       LCALL   ??osal_memset?relay  ; Banked call to: osal_memset
   \   0003FA                ; Setup parameters for call to function NLME_UpdateNV
   \   0003FA   7901         MOV     R1,#0x1
   \   0003FC   12....       LCALL   ??NLME_UpdateNV?relay; Banked call to: NLME_UpdateNV
   \   0003FF   02....       LJMP    ??SampleApp_SerialCMD_5 & 0xFFFF
   \                     ??SampleApp_SerialCMD_13:
   \   000402                ; Setup parameters for call to function osal_memcmp
   \   000402   75....       MOV     ?V0,#`?<Constant "#CH">` & 0xff
   \   000405   75....       MOV     ?V1,#(`?<Constant "#CH">` >> 8) & 0xff
   \   000408   78..         MOV     R0,#?V0
   \   00040A   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00040D   7C03         MOV     R4,#0x3
   \   00040F   7D00         MOV     R5,#0x0
   \   000411   8E82         MOV     DPL,R6
   \   000413   8F83         MOV     DPH,R7
   \   000415   A982         MOV     R1,DPL
   \   000417   AA83         MOV     R2,DPH
   \   000419   7B00         MOV     R3,#0x0
   \   00041B   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   00041E   7403         MOV     A,#0x3
   \   000420   12....       LCALL   ?DEALLOC_XSTACK8
   \   000423   E9           MOV     A,R1
   \   000424   603C         JZ      ??SampleApp_SerialCMD_16
   \   000426   7405         MOV     A,#0x5
   \   000428   65..         XRL     A,?V3
   \   00042A   700D         JNZ     ??SampleApp_SerialCMD_17
   \   00042C                ; Setup parameters for call to function printf
   \   00042C   12....       LCALL   ?Subroutine8 & 0xFFFF
   \                     ??CrossCallReturnLabel_6:
   \   00042F   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000432   7A..         MOV     R2,#`?<Constant "<CH,0x%02X>\\r\\n">` & 0xff
   \   000434   7B..         MOV     R3,#(`?<Constant "<CH,0x%02X>\\r\\n">` >> 8) & 0xff
   \   000436   02....       LJMP    ??SampleApp_SerialCMD_3 & 0xFFFF
   \                     ??SampleApp_SerialCMD_17:
   \   000439   E5..         MOV     A,?V3
   \   00043B   C3           CLR     C
   \   00043C   9406         SUBB    A,#0x6
   \   00043E   5003         JNC     $+5
   \   000440   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \   000443   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_1:
   \   000446   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000449   12....       LCALL   ?Subroutine10 & 0xFFFF
   \                     ??CrossCallReturnLabel_47:
   \   00044C   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   00044F   7402         MOV     A,#0x2
   \   000451   12....       LCALL   ?DEALLOC_XSTACK8
   \   000454   85..82       MOV     DPL,?XSP + 0
   \   000457   85..83       MOV     DPH,?XSP + 1
   \   00045A   E0           MOVX    A,@DPTR
   \   00045B   90....       MOV     DPTR,#_NIB + 22
   \   00045E   F0           MOVX    @DPTR,A
   \   00045F   A3           INC     DPTR
   \   000460   8085         SJMP    ??SampleApp_SerialCMD_15
   \                     ??SampleApp_SerialCMD_16:
   \   000462                ; Setup parameters for call to function osal_memcmp
   \   000462   75....       MOV     ?V0,#`?<Constant "#SA">` & 0xff
   \   000465   75....       MOV     ?V1,#(`?<Constant "#SA">` >> 8) & 0xff
   \   000468   78..         MOV     R0,#?V0
   \   00046A   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00046D   7C03         MOV     R4,#0x3
   \   00046F   7D00         MOV     R5,#0x0
   \   000471   8E82         MOV     DPL,R6
   \   000473   8F83         MOV     DPH,R7
   \   000475   A982         MOV     R1,DPL
   \   000477   AA83         MOV     R2,DPH
   \   000479   7B00         MOV     R3,#0x0
   \   00047B   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   00047E   7403         MOV     A,#0x3
   \   000480   12....       LCALL   ?DEALLOC_XSTACK8
   \   000483   E9           MOV     A,R1
   \   000484   600D         JZ      ??SampleApp_SerialCMD_18
   \   000486                ; Setup parameters for call to function printf
   \   000486   90....       MOV     DPTR,#_NIB + 20
   \   000489   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00048C   7A..         MOV     R2,#`?<Constant "<SA,0x%04X>\\r\\n">` & 0xff
   \   00048E   7B..         MOV     R3,#(`?<Constant "<SA,0x%04X>\\r\\n">` >> 8) & 0xff
   \   000490   02....       LJMP    ??SampleApp_SerialCMD_3 & 0xFFFF
   \                     ??SampleApp_SerialCMD_18:
   \   000493                ; Setup parameters for call to function osal_memcmp
   \   000493   75....       MOV     ?V0,#`?<Constant "#DPD">` & 0xff
   \   000496   75....       MOV     ?V1,#(`?<Constant "#DPD">` >> 8) & 0xff
   \   000499   78..         MOV     R0,#?V0
   \   00049B   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00049E   7C03         MOV     R4,#0x3
   \   0004A0   7D00         MOV     R5,#0x0
   \   0004A2   8E82         MOV     DPL,R6
   \   0004A4   8F83         MOV     DPH,R7
   \   0004A6   A982         MOV     R1,DPL
   \   0004A8   AA83         MOV     R2,DPH
   \   0004AA   7B00         MOV     R3,#0x0
   \   0004AC   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   0004AF   7403         MOV     A,#0x3
   \   0004B1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0004B4   E9           MOV     A,R1
   \   0004B5   606E         JZ      ??SampleApp_SerialCMD_19
   \   0004B7   7406         MOV     A,#0x6
   \   0004B9   65..         XRL     A,?V3
   \   0004BB   700D         JNZ     ??SampleApp_SerialCMD_20
   \   0004BD                ; Setup parameters for call to function printf
   \   0004BD   90....       MOV     DPTR,#zgConfigPANID
   \   0004C0   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   0004C3   7A..         MOV     R2,#`?<Constant "<DPD,0x%04X>\\r\\n">` & 0xff
   \   0004C5   7B..         MOV     R3,#(`?<Constant "<DPD,0x%04X>\\r\\n">` >> 8) & 0xff
   \   0004C7   02....       LJMP    ??SampleApp_SerialCMD_3 & 0xFFFF
   \                     ??SampleApp_SerialCMD_20:
   \   0004CA   E5..         MOV     A,?V3
   \   0004CC   C3           CLR     C
   \   0004CD   9407         SUBB    A,#0x7
   \   0004CF   404E         JC      ??SampleApp_SerialCMD_21
   \   0004D1   12....       LCALL   ?Subroutine3 & 0xFFFF
   \                     ??CrossCallReturnLabel_2:
   \   0004D4   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0004D7   7C..         MOV     R4,#`?<Constant "%x">` & 0xff
   \   0004D9   7D..         MOV     R5,#(`?<Constant "%x">` >> 8) & 0xff
   \   0004DB   EE           MOV     A,R6
   \   0004DC   2405         ADD     A,#0x5
   \   0004DE   FA           MOV     R2,A
   \   0004DF   E4           CLR     A
   \   0004E0   3F           ADDC    A,R7
   \   0004E1   FB           MOV     R3,A
   \   0004E2   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   0004E5   7402         MOV     A,#0x2
   \   0004E7   12....       LCALL   ?DEALLOC_XSTACK8
   \   0004EA   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   0004ED   90....       MOV     DPTR,#zgConfigPANID
   \   0004F0   E8           MOV     A,R0
   \   0004F1   F0           MOVX    @DPTR,A
   \   0004F2   A3           INC     DPTR
   \   0004F3   E9           MOV     A,R1
   \   0004F4   F0           MOVX    @DPTR,A
   \   0004F5                ; Setup parameters for call to function nvItemInit
   \   0004F5   75....       MOV     ?V0,#zgConfigPANID & 0xff
   \   0004F8   75....       MOV     ?V1,#(zgConfigPANID >> 8) & 0xff
   \   0004FB   78..         MOV     R0,#?V0
   \   0004FD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000500   7901         MOV     R1,#0x1
   \   000502   7C02         MOV     R4,#0x2
   \   000504   7D00         MOV     R5,#0x0
   \   000506   7A83         MOV     R2,#-0x7d
   \   000508   7B00         MOV     R3,#0x0
   \   00050A   12....       LCALL   ??nvItemInit?relay   ; Banked call to: nvItemInit
   \   00050D   7402         MOV     A,#0x2
   \   00050F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000512   E9           MOV     A,R1
   \   000513   700A         JNZ     ??SampleApp_SerialCMD_21
   \   000515                ; Setup parameters for call to function printf
   \   000515   7A..         MOV     R2,#`?<Constant "<DPD,T>\\r\\n">` & 0xff
   \   000517   7B..         MOV     R3,#(`?<Constant "<DPD,T>\\r\\n">` >> 8) & 0xff
   \                     ??SampleApp_SerialCMD_22:
   \   000519   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   00051C   02....       LJMP    ??SampleApp_SerialCMD_4 & 0xFFFF
   \                     ??SampleApp_SerialCMD_21:
   \   00051F                ; Setup parameters for call to function printf
   \   00051F   7A..         MOV     R2,#`?<Constant "<DPD,F>\\r\\n">` & 0xff
   \   000521   7B..         MOV     R3,#(`?<Constant "<DPD,F>\\r\\n">` >> 8) & 0xff
   \   000523   80F4         SJMP    ??SampleApp_SerialCMD_22
   \                     ??SampleApp_SerialCMD_19:
   \   000525                ; Setup parameters for call to function osal_memcmp
   \   000525   75....       MOV     ?V0,#`?<Constant "#DCH">` & 0xff
   \   000528   75....       MOV     ?V1,#(`?<Constant "#DCH">` >> 8) & 0xff
   \   00052B   78..         MOV     R0,#?V0
   \   00052D   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000530   7C04         MOV     R4,#0x4
   \   000532   7D00         MOV     R5,#0x0
   \   000534   8E82         MOV     DPL,R6
   \   000536   8F83         MOV     DPH,R7
   \   000538   A982         MOV     R1,DPL
   \   00053A   AA83         MOV     R2,DPH
   \   00053C   7B00         MOV     R3,#0x0
   \   00053E   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   000541   7403         MOV     A,#0x3
   \   000543   12....       LCALL   ?DEALLOC_XSTACK8
   \   000546   E9           MOV     A,R1
   \   000547   7003         JNZ     $+5
   \   000549   02....       LJMP    ??SampleApp_SerialCMD_23 & 0xFFFF
   \   00054C   7406         MOV     A,#0x6
   \   00054E   65..         XRL     A,?V3
   \   000550   7048         JNZ     ??SampleApp_SerialCMD_24
   \   000552   90....       MOV     DPTR,#__Constant_7fff800
   \   000555   78..         MOV     R0,#?V0
   \   000557   12....       LCALL   ?L_MOV_X
   \   00055A   90....       MOV     DPTR,#zgDefaultChannelList
   \   00055D   78..         MOV     R0,#?V0
   \   00055F   12....       LCALL   ?L_EQ_X
   \   000562   7006         JNZ     ??SampleApp_SerialCMD_25
   \   000564                ; Setup parameters for call to function printf
   \   000564   7A..         MOV     R2,#`?<Constant "<DCH,ALL>\\r\\n">` & 0xff
   \   000566   7B..         MOV     R3,#(`?<Constant "<DCH,ALL>\\r\\n">` >> 8) & 0xff
   \   000568   80AF         SJMP    ??SampleApp_SerialCMD_22
   \                     ??SampleApp_SerialCMD_25:
   \   00056A   75..0B       MOV     ?V4,#0xb
   \                     ??SampleApp_SerialCMD_26:
   \   00056D   90....       MOV     DPTR,#zgDefaultChannelList
   \   000570   78..         MOV     R0,#?V0
   \   000572   12....       LCALL   ?L_MOV_X
   \   000575   E5..         MOV     A,?V4
   \   000577   78..         MOV     R0,#?V0
   \   000579   12....       LCALL   ?UL_SHR
   \   00057C   E5..         MOV     A,?V0
   \   00057E   A2E0         MOV     C,0xE0 /* A   */.0
   \   000580   4009         JC      ??SampleApp_SerialCMD_27
   \   000582   05..         INC     ?V4
   \   000584   E5..         MOV     A,?V4
   \   000586   C3           CLR     C
   \   000587   941B         SUBB    A,#0x1b
   \   000589   40E2         JC      ??SampleApp_SerialCMD_26
   \                     ??SampleApp_SerialCMD_27:
   \   00058B                ; Setup parameters for call to function printf
   \   00058B   75..00       MOV     ?V5,#0x0
   \   00058E   78..         MOV     R0,#?V4
   \   000590   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000593   7A..         MOV     R2,#`?<Constant "<DCH,0x%02X>\\r\\n">` & 0xff
   \   000595   7B..         MOV     R3,#(`?<Constant "<DCH,0x%02X>\\r\\n">` >> 8) & 0xff
   \   000597   02....       LJMP    ??SampleApp_SerialCMD_3 & 0xFFFF
   \                     ??SampleApp_SerialCMD_24:
   \   00059A   E5..         MOV     A,?V3
   \   00059C   C3           CLR     C
   \   00059D   9407         SUBB    A,#0x7
   \   00059F   5003         JNC     $+5
   \   0005A1   02....       LJMP    ??SampleApp_SerialCMD_28 & 0xFFFF
   \   0005A4   85..82       MOV     DPL,?XSP + 0
   \   0005A7   85..83       MOV     DPH,?XSP + 1
   \   0005AA   E4           CLR     A
   \   0005AB   F0           MOVX    @DPTR,A
   \   0005AC   A3           INC     DPTR
   \   0005AD   F0           MOVX    @DPTR,A
   \   0005AE   EE           MOV     A,R6
   \   0005AF   2405         ADD     A,#0x5
   \   0005B1   F5..         MOV     ?V4,A
   \   0005B3   E4           CLR     A
   \   0005B4   3F           ADDC    A,R7
   \   0005B5   F5..         MOV     ?V5,A
   \   0005B7                ; Setup parameters for call to function sscanf
   \   0005B7   A8..         MOV     R0,?XSP + 0
   \   0005B9   A9..         MOV     R1,?XSP + 1
   \   0005BB   88..         MOV     ?V0,R0
   \   0005BD   89..         MOV     ?V1,R1
   \   0005BF   78..         MOV     R0,#?V0
   \   0005C1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0005C4   7C..         MOV     R4,#`?<Constant "%x">` & 0xff
   \   0005C6   7D..         MOV     R5,#(`?<Constant "%x">` >> 8) & 0xff
   \   0005C8   AA..         MOV     R2,?V4
   \   0005CA   AB..         MOV     R3,?V5
   \   0005CC   12....       LCALL   ??sscanf?relay       ; Banked call to: sscanf
   \   0005CF   7402         MOV     A,#0x2
   \   0005D1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0005D4                ; Setup parameters for call to function osal_memcmp
   \   0005D4   75....       MOV     ?V0,#`?<Constant "ALL">` & 0xff
   \   0005D7   75....       MOV     ?V1,#(`?<Constant "ALL">` >> 8) & 0xff
   \   0005DA   78..         MOV     R0,#?V0
   \   0005DC   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0005DF   7C03         MOV     R4,#0x3
   \   0005E1   7D00         MOV     R5,#0x0
   \   0005E3   85..82       MOV     DPL,?V4
   \   0005E6   85..83       MOV     DPH,?V5
   \   0005E9   A982         MOV     R1,DPL
   \   0005EB   AA83         MOV     R2,DPH
   \   0005ED   7B00         MOV     R3,#0x0
   \   0005EF   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   0005F2   7403         MOV     A,#0x3
   \   0005F4   12....       LCALL   ?DEALLOC_XSTACK8
   \   0005F7   E9           MOV     A,R1
   \   0005F8   7029         JNZ     ??SampleApp_SerialCMD_29
   \   0005FA                ; Setup parameters for call to function osal_memcmp
   \   0005FA   75....       MOV     ?V0,#`?<Constant "all">` & 0xff
   \   0005FD   75....       MOV     ?V1,#(`?<Constant "all">` >> 8) & 0xff
   \   000600   78..         MOV     R0,#?V0
   \   000602   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000605   7C03         MOV     R4,#0x3
   \   000607   7D00         MOV     R5,#0x0
   \   000609   8E82         MOV     DPL,R6
   \   00060B   8F83         MOV     DPH,R7
   \   00060D   A3           INC     DPTR
   \   00060E   A3           INC     DPTR
   \   00060F   A3           INC     DPTR
   \   000610   A3           INC     DPTR
   \   000611   A3           INC     DPTR
   \   000612   A982         MOV     R1,DPL
   \   000614   AA83         MOV     R2,DPH
   \   000616   7B00         MOV     R3,#0x0
   \   000618   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   00061B   7403         MOV     A,#0x3
   \   00061D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000620   E9           MOV     A,R1
   \   000621   600C         JZ      ??SampleApp_SerialCMD_30
   \                     ??SampleApp_SerialCMD_29:
   \   000623   85..82       MOV     DPL,?XSP + 0
   \   000626   85..83       MOV     DPH,?XSP + 1
   \   000629   E4           CLR     A
   \   00062A   F0           MOVX    @DPTR,A
   \   00062B   A3           INC     DPTR
   \   00062C   F0           MOVX    @DPTR,A
   \   00062D   802C         SJMP    ??SampleApp_SerialCMD_31
   \                     ??SampleApp_SerialCMD_30:
   \   00062F   85..82       MOV     DPL,?XSP + 0
   \   000632   85..83       MOV     DPH,?XSP + 1
   \   000635   E0           MOVX    A,@DPTR
   \   000636   24F5         ADD     A,#-0xb
   \   000638   F8           MOV     R0,A
   \   000639   A3           INC     DPTR
   \   00063A   E0           MOVX    A,@DPTR
   \   00063B   34FF         ADDC    A,#-0x1
   \   00063D   F9           MOV     R1,A
   \   00063E   C3           CLR     C
   \   00063F   E8           MOV     A,R0
   \   000640   9410         SUBB    A,#0x10
   \   000642   E9           MOV     A,R1
   \   000643   9400         SUBB    A,#0x0
   \   000645   85..82       MOV     DPL,?XSP + 0
   \   000648   85..83       MOV     DPH,?XSP + 1
   \   00064B   12....       LCALL   ??Subroutine18_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   00064E   4009         JC      ??SampleApp_SerialCMD_32
   \   000650   6009         JZ      ??SampleApp_SerialCMD_31
   \   000652                ; Setup parameters for call to function printf
   \   000652   7A..         MOV     R2,#`?<Constant "<CH,F>\\r\\n">` & 0xff
   \   000654   7B..         MOV     R3,#(`?<Constant "<CH,F>\\r\\n">` >> 8) & 0xff
   \   000656   02....       LJMP    ??SampleApp_SerialCMD_22 & 0xFFFF
   \                     ??SampleApp_SerialCMD_32:
   \   000659   7013         JNZ     ??SampleApp_SerialCMD_33
   \                     ??SampleApp_SerialCMD_31:
   \   00065B   90....       MOV     DPTR,#zgDefaultChannelList
   \   00065E   E4           CLR     A
   \   00065F   F0           MOVX    @DPTR,A
   \   000660   A3           INC     DPTR
   \   000661   74F8         MOV     A,#-0x8
   \   000663   F0           MOVX    @DPTR,A
   \   000664   A3           INC     DPTR
   \   000665   74FF         MOV     A,#-0x1
   \   000667   F0           MOVX    @DPTR,A
   \   000668   A3           INC     DPTR
   \   000669   7407         MOV     A,#0x7
   \   00066B   F0           MOVX    @DPTR,A
   \   00066C   801D         SJMP    ??SampleApp_SerialCMD_34
   \                     ??SampleApp_SerialCMD_33:
   \   00066E   75..01       MOV     ?V0,#0x1
   \   000671   75..00       MOV     ?V1,#0x0
   \   000674   75..00       MOV     ?V3,#0x0
   \   000677   85..82       MOV     DPL,?XSP + 0
   \   00067A   85..83       MOV     DPH,?XSP + 1
   \   00067D   E0           MOVX    A,@DPTR
   \   00067E   78..         MOV     R0,#?V0
   \   000680   12....       LCALL   ?L_SHL
   \   000683   90....       MOV     DPTR,#zgDefaultChannelList
   \   000686   78..         MOV     R0,#?V0
   \   000688   12....       LCALL   ?L_MOV_TO_X
   \                     ??SampleApp_SerialCMD_34:
   \   00068B                ; Setup parameters for call to function printf
   \   00068B   90....       MOV     DPTR,#zgDefaultChannelList
   \   00068E   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000691   7404         MOV     A,#0x4
   \   000693   12....       LCALL   ?XSTACK_DISP0_8
   \   000696   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   000699   7A..         MOV     R2,#`?<Constant "<CH,0x%02X,0x%08lX>\\r\\n">` & 0xff
   \   00069B   7B..         MOV     R3,#(`?<Constant "<CH,0x%02X,0x%08lX>\\r\\n">` >> 8) & 0xff
   \   00069D   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   0006A0   7406         MOV     A,#0x6
   \   0006A2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006A5                ; Setup parameters for call to function nvItemInit
   \   0006A5   75....       MOV     ?V0,#zgDefaultChannelList & 0xff
   \   0006A8   75....       MOV     ?V1,#(zgDefaultChannelList >> 8) & 0xff
   \   0006AB   78..         MOV     R0,#?V0
   \   0006AD   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0006B0   7901         MOV     R1,#0x1
   \   0006B2   7C04         MOV     R4,#0x4
   \   0006B4   7D00         MOV     R5,#0x0
   \   0006B6   7A84         MOV     R2,#-0x7c
   \   0006B8   7B00         MOV     R3,#0x0
   \   0006BA   12....       LCALL   ??nvItemInit?relay   ; Banked call to: nvItemInit
   \   0006BD   7402         MOV     A,#0x2
   \   0006BF   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006C2   E9           MOV     A,R1
   \   0006C3   7007         JNZ     ??SampleApp_SerialCMD_28
   \   0006C5                ; Setup parameters for call to function printf
   \   0006C5   7A..         MOV     R2,#`?<Constant "<DCH,T>\\r\\n">` & 0xff
   \   0006C7   7B..         MOV     R3,#(`?<Constant "<DCH,T>\\r\\n">` >> 8) & 0xff
   \   0006C9   02....       LJMP    ??SampleApp_SerialCMD_22 & 0xFFFF
   \                     ??SampleApp_SerialCMD_28:
   \   0006CC                ; Setup parameters for call to function printf
   \   0006CC   7A..         MOV     R2,#`?<Constant "<DCH,F>\\r\\n">` & 0xff
   \   0006CE   7B..         MOV     R3,#(`?<Constant "<DCH,F>\\r\\n">` >> 8) & 0xff
   \   0006D0   02....       LJMP    ??SampleApp_SerialCMD_22 & 0xFFFF
   \                     ??SampleApp_SerialCMD_23:
   \   0006D3                ; Setup parameters for call to function osal_memcmp
   \   0006D3   75....       MOV     ?V0,#`?<Constant "#DG">` & 0xff
   \   0006D6   75....       MOV     ?V1,#(`?<Constant "#DG">` >> 8) & 0xff
   \   0006D9   78..         MOV     R0,#?V0
   \   0006DB   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0006DE   7C03         MOV     R4,#0x3
   \   0006E0   7D00         MOV     R5,#0x0
   \   0006E2   8E82         MOV     DPL,R6
   \   0006E4   8F83         MOV     DPH,R7
   \   0006E6   A982         MOV     R1,DPL
   \   0006E8   AA83         MOV     R2,DPH
   \   0006EA   7B00         MOV     R3,#0x0
   \   0006EC   12....       LCALL   ??osal_memcmp?relay  ; Banked call to: osal_memcmp
   \   0006EF   7403         MOV     A,#0x3
   \   0006F1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0006F4   E9           MOV     A,R1
   \   0006F5   7003         JNZ     $+5
   \   0006F7   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \   0006FA                ; Setup parameters for call to function atoi
   \   0006FA   12....       LCALL   ??Subroutine17_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   0006FD   12....       LCALL   ??atoi?relay         ; Banked call to: atoi
   \   000700   8A..         MOV     ?V0,R2
   \   000702   8B..         MOV     ?V1,R3
   \   000704   A8..         MOV     R0,?V0
   \   000706   A9..         MOV     R1,?V1
   \   000708   E8           MOV     A,R0
   \   000709   49           ORL     A,R1
   \   00070A   6009         JZ      ??SampleApp_SerialCMD_35
   \   00070C   7401         MOV     A,#0x1
   \   00070E   68           XRL     A,R0
   \   00070F   49           ORL     A,R1
   \   000710   6003         JZ      $+5
   \   000712   02....       LJMP    ??SampleApp_SerialCMD_0 & 0xFFFF
   \                     ??SampleApp_SerialCMD_35:
   \   000715   90....       MOV     DPTR,#debug
   \   000718   E8           MOV     A,R0
   \   000719   F0           MOVX    @DPTR,A
   \   00071A   A3           INC     DPTR
   \   00071B   E9           MOV     A,R1
   \   00071C   F0           MOVX    @DPTR,A
   \   00071D   02....       LJMP    ??SampleApp_SerialCMD_5 & 0xFFFF

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   7C..         MOV     R4,#`?<Constant "%x">` & 0xff
   \   000002   7D..         MOV     R5,#(`?<Constant "%x">` >> 8) & 0xff
   \   000004                REQUIRE ??Subroutine17_0
   \   000004                ; // Fall through to label ??Subroutine17_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine17_0:
   \   000000   EE           MOV     A,R6
   \   000001   2404         ADD     A,#0x4
   \   000003   FA           MOV     R2,A
   \   000004   E4           CLR     A
   \   000005   3F           ADDC    A,R7
   \   000006   FB           MOV     R3,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   E4           CLR     A
   \   000007   F0           MOVX    @DPTR,A
   \   000008   A3           INC     DPTR
   \   000009   F0           MOVX    @DPTR,A
   \   00000A                ; Setup parameters for call to function sscanf
   \   00000A                ; Setup parameters for call to function sscanf
   \   00000A                ; Setup parameters for call to function sscanf
   \   00000A   A8..         MOV     R0,?XSP + 0
   \   00000C   A9..         MOV     R1,?XSP + 1
   \   00000E   88..         MOV     ?V0,R0
   \   000010   89..         MOV     ?V1,R1
   \   000012   78..         MOV     R0,#?V0
   \   000014   22           RET
   1152          
   1153          /*********************************************************************
   1154           * @fn      sendData
   1155           *
   1156           * @brief   串口向采集器发送数据
   1157           *
   1158           * @param   none
   1159           *
   1160           * @return  none
   1161           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1162          void SendDataToCollector(char *ptr, int len)
   \                     SendDataToCollector:
   1163          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1164              HalUARTWrite(0,ptr,len);
                                    ^
Warning[Pe167]: argument of type "char *" is incompatible with parameter of
          type "unsigned char *"
   \   000004                ; Setup parameters for call to function HalUARTWrite
   \   000004   7900         MOV     R1,#0x0
   \   000006   12....       LCALL   ??HalUARTWrite?relay ; Banked call to: HalUARTWrite
   1165          }
   \   000009                REQUIRE ?Subroutine2
   \   000009                ; // Fall through to label ?Subroutine2

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
   1166          
   1167          /*********************************************************************
   1168           * @fn      Order_Parse
   1169           *
   1170           * @brief   协调器或串口指令解析,flag：1 指示终端设备，0 指示协调器设备
   1171           *
   1172           * @param   none
   1173           *
   1174           * @return  none
   1175           */
   1176          //void Order_Parse(char *str, int len, int flag)
   1177          //{
   1178          //   uint8 i;
   1179          //   int numbers;
   1180          //     /* 上位机指令解析 */
   1181          //   if(*(str+len-1)== '\n')
   1182          //   {
   1183          //#if defined (ZDO_COORDINATOR) || defined (RTR_NWK) //协调器
   1184          //      if(osal_memcmp(str,"#DM",3)) //主采读取数据
   1185          //      {
   1186          //        /* 主采读取数据 */
   1187          //        numbers = sprintf(data_coor, "BG,ID001,%04d,%03d,%04d,ID002,%04d,%03d,%04d,ID003,%04d,%03d,%04d,ED\r\n",coordi[0].temperature,
   1188          //                          coordi[0].humidity,coordi[0].photosyn,coordi[1].temperature,coordi[1].humidity,coordi[1].photosyn,
   1189          //                          coordi[2].temperature,coordi[2].humidity,coordi[2].photosyn); //数据填充
   1190          //        
   1191          //        SendDataToCollector(data_coor, COOR_DATA_LEN); //数据发往主采集器
   1192          //        
   1193          //        osal_memset(coordi, 0, sizeof(dataType_t)*3); //发送后数据清零
   1194          //      }
   1195          //      else if(osal_memcmp(str,"#RS",3))
   1196          //      {
   1197          //        /* 复位 */
   1198          //        ReturnTorF(1, 1); //正确
   1199          //        SampleApp_SendPeriodicMessage(str, len); //转发复位指令给终端传感器
   1200          //        
   1201          //        rs_flag = 1;//置位停止喂狗标志
   1202          //        
   1203          //      }
   1204          //      else if(osal_memcmp(str,"#GH",3)) //协调器使用GH指令给传感器设置光合表系数
   1205          //      {
   1206          //        SampleApp_SendPeriodicMessage(str, len);
   1207          //      }
   1208          //#else //终端节点
   1209          //      if(osal_memcmp(str,"#ID",3))
   1210          //      {
   1211          //        if(len == 5) //读取设备ID
   1212          //        {          
   1213          //          printf("<ID,%03u>\r\n", sensor_id);
   1214          //        }
   1215          //        else //设置设备ID
   1216          //        {
   1217          //          int temp_id;
   1218          //          
   1219          //          sscanf(str+4, "%d", &temp_id);                           
   1220          //          if(temp_id>=1 && temp_id<=3)
   1221          //          {
   1222          //            sensor_id = temp_id;
   1223          //            
   1224          //            /* 设备ID存入flash */
   1225          //            sprintf(dev_id, "%03u", sensor_id);
   1226          //            
   1227          //            if(SUCCESS == osal_nv_write(DEVICE_ID, 0, DEVICE_ID_LEN, dev_id))
   1228          //              HalUARTWrite(0,"T\n",2 ); //存入成功
   1229          //            else
   1230          //              HalUARTWrite(0,"F\n",2 ); //存入失败
   1231          //          }
   1232          //          else
   1233          //          {
   1234          //            HalUARTWrite(0,"F\n",2 ); //错误
   1235          //          }
   1236          //        }
   1237          //      }
   1238          //      else if(osal_memcmp(str,"#GH",3))
   1239          //      {
   1240          //        if(len == 5) //读取光合表系数
   1241          //        {
   1242          //          printf("<GH,%05.2f>\r\n", gh_factor);
   1243          //        }
   1244          //        else //设置光合表系数
   1245          //        {
   1246          //          float temp_gh;
   1247          //          
   1248          //          sscanf(str+4, "%f", &temp_gh);
   1249          //          if(temp_gh>=1.0)
   1250          //          {
   1251          //            gh_factor = temp_gh;
   1252          //            
   1253          //            /* 光合表系数存入flash */
   1254          //            sprintf(dev_gh, "%5.2f", gh_factor);
   1255          //            
   1256          //            if(SUCCESS == osal_nv_write(DEVICE_GH, 0, DEVICE_GH_LEN, dev_gh))
   1257          //              HalUARTWrite(0,"T\n",2 ); //存入成功
   1258          //            else
   1259          //              HalUARTWrite(0,"F\n",2 ); //存入失败
   1260          //          }
   1261          //          else
   1262          //          {
   1263          //            HalUARTWrite(0,"F\n",2 ); //错误
   1264          //          }
   1265          //        }
   1266          //      }
   1267          //      else if(osal_memcmp(str,"#RS",3))//复位
   1268          //      {
   1269          //        /* 复位 */     
   1270          //        rs_flag = 1;//置位停止喂狗标志     
   1271          //      }
   1272          //#endif
   1273          //      else if(osal_memcmp(str,"#DG",3)) //调试信息开关
   1274          //      {
   1275          //        int temp;
   1276          //        
   1277          //        temp = atoi(str+4);
   1278          //        if(temp==0||temp==1)
   1279          //        {
   1280          //          debug = temp;
   1281          //          HalUARTWrite(0,"T\n",2 ); //正确
   1282          //        }
   1283          //        else
   1284          //        {
   1285          //          HalUARTWrite(0,"F\n",2 ); //错误
   1286          //        }
   1287          //        
   1288          //      }
   1289          //      else
   1290          //      {
   1291          //        HalUARTWrite(0,"F\n",2 ); //错误
   1292          //      }
   1293          //   }
   1294          //   else
   1295          //   {
   1296          //      HalUARTWrite(0,"F\n",2 ); //错误
   1297          //   }
   1298          //}
   1299          
   1300          /*********************************************************************
   1301           * @fn      ReturnTorF
   1302           *
   1303           * @brief   指令返回'T'或'F'，参数a:1 回复'T',0 回复'F'；参数b:1 发往串口，0 发往协调器
   1304           *
   1305           * @param   none
   1306           *
   1307           * @return  none
   1308           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1309          void ReturnTorF(int a, int b)
   \                     ReturnTorF:
   1310          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1311            if(a)
   \   000004   EA           MOV     A,R2
   \   000005   4B           ORL     A,R3
   \   000006   6014         JZ      ??ReturnTorF_0
   1312            {
   1313              if(b)
   \   000008   EC           MOV     A,R4
   \   000009   4D           ORL     A,R5
   \   00000A   6006         JZ      ??ReturnTorF_1
   1314              {
   1315                printf("T\r\n");
   \   00000C                ; Setup parameters for call to function printf
   \   00000C   7A..         MOV     R2,#`?<Constant "T\\r\\n">` & 0xff
   \   00000E   7B..         MOV     R3,#(`?<Constant "T\\r\\n">` >> 8) & 0xff
   \   000010   8012         SJMP    ??ReturnTorF_2
   1316              }
   1317              else
   1318              {
   1319                SampleApp_SendPointToPointMessage("T\r\n", sizeof("T\r\n"));
   \                     ??ReturnTorF_1:
   \   000012                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   000012   7C04         MOV     R4,#0x4
   \   000014   7D00         MOV     R5,#0x0
   \   000016   7A..         MOV     R2,#`?<Constant "T\\r\\n">` & 0xff
   \   000018   7B..         MOV     R3,#(`?<Constant "T\\r\\n">` >> 8) & 0xff
   \   00001A   8015         SJMP    ??ReturnTorF_3
   1320              }
   1321            }
   1322            else
   1323            {
   1324              if(b)
   \                     ??ReturnTorF_0:
   \   00001C   EC           MOV     A,R4
   \   00001D   4D           ORL     A,R5
   \   00001E   6009         JZ      ??ReturnTorF_4
   1325              {
   1326                printf("F\r\n");
   \   000020                ; Setup parameters for call to function printf
   \   000020   7A..         MOV     R2,#`?<Constant "F\\r\\n">` & 0xff
   \   000022   7B..         MOV     R3,#(`?<Constant "F\\r\\n">` >> 8) & 0xff
   \                     ??ReturnTorF_2:
   \   000024   12....       LCALL   ??printf?relay       ; Banked call to: printf
   \   000027   800B         SJMP    ??ReturnTorF_5
   1327              }
   1328              else
   1329              {
   1330                SampleApp_SendPointToPointMessage("F\r\n", sizeof("F\r\n"));
   \                     ??ReturnTorF_4:
   \   000029                ; Setup parameters for call to function SampleApp_SendPointToPointMessage
   \   000029   7C04         MOV     R4,#0x4
   \   00002B   7D00         MOV     R5,#0x0
   \   00002D   7A..         MOV     R2,#`?<Constant "F\\r\\n">` & 0xff
   \   00002F   7B..         MOV     R3,#(`?<Constant "F\\r\\n">` >> 8) & 0xff
   \                     ??ReturnTorF_3:
   \   000031   12....       LCALL   ??SampleApp_SendPointToPointMessage?relay; Banked call to: SampleApp_SendPointToPointMessage
   1331              }
   1332              
   1333            }
   1334            
   1335          }
   \                     ??ReturnTorF_5:
   \   000034   80..         SJMP    ?Subroutine2

   \                                 In  segment XDATA_ID, align 1, keep-with-next
   \                     `?<Initializer for data_sensor>`:
   \   000000   42472C49     DB "BG,ID001,-600,099,1234,ED\015\012"
   \            44303031
   \            2C2D3630
   \            302C3039
   \            392C3132
   \            33342C45
   \            440D0A00
   \   00001C   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000024   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00002C   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000034   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00003C   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000044   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00004C   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000054   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00005C   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000064   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00006C   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   000074   00000000     DB 0, 0, 0, 0, 0, 0, 0, 0
   \            00000000
   \   00007C   00000000     DB 0, 0, 0, 0

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SendPeriodicMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SendPeriodicMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SendPointToPointMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SendPointToPointMessage

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SampleApp_SerialCMD?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SampleApp_SerialCMD

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??SendDataToCollector?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    SendDataToCollector

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??ReturnTorF?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    ReturnTorF

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "System init!\\n">`:
   \   000000   53797374     DB "System init!\012"
   \            656D2069
   \            6E697421
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ID flash init failed!!\\n">`:
   \   000000   49442066     DB "ID flash init failed!!\012"
   \            6C617368
   \            20696E69
   \            74206661
   \            696C6564
   \            21210A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GH flash init failed!!\\n">`:
   \   000000   47482066     DB "GH flash init failed!!\012"
   \            6C617368
   \            20696E69
   \            74206661
   \            696C6564
   \            21210A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "WDDT flash init faile...">`:
   \   000000   57444454     DB "WDDT flash init failed!!\012"
   \            20666C61
   \            73682069
   \            6E697420
   \            6661696C
   \            65642121
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ID flash read failed!!\\n">`:
   \   000000   49442066     DB "ID flash read failed!!\012"
   \            6C617368
   \            20726561
   \            64206661
   \            696C6564
   \            21210A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "GH flash read failed!!\\n">`:
   \   000000   47482066     DB "GH flash read failed!!\012"
   \            6C617368
   \            20726561
   \            64206661
   \            696C6564
   \            21210A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "WDDT flash read faile...">`:
   \   000000   57444454     DB "WDDT flash read failed!!\012"
   \            20666C61
   \            73682072
   \            65616420
   \            6661696C
   \            65642121
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Group 1">`:
   \   000000   47726F75     DB "Group 1"
   \            70203100

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "NET SUCCESS!\\r\\n">`:
   \   000000   4E455420     DB "NET SUCCESS!\015\012"
   \            53554343
   \            45535321
   \            0D0A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Router:0x%04X\\r\\nParent...">`:
   \   000000   526F7574     DB 52H, 6FH, 75H, 74H, 65H, 72H, 3AH, 30H
   \            65723A30
   \   000008   78253034     DB 78H, 25H, 30H, 34H, 58H, 0DH, 0AH, 50H
   \            580D0A50
   \   000010   6172656E     DB 61H, 72H, 65H, 6EH, 74H, 3AH, 30H, 78H
   \            743A3078
   \   000018   25303458     DB 25H, 30H, 34H, 58H, 0DH, 0AH, 43H, 68H
   \            0D0A4368
   \   000020   616E6E65     DB 61H, 6EH, 6EH, 65H, 6CH, 3AH, 25H, 64H
   \            6C3A2564
   \   000028   0D0A5061     DB 0DH, 0AH, 50H, 61H, 6EH, 49H, 44H, 3AH
   \            6E49443A
   \   000030   30782530     DB 30H, 78H, 25H, 30H, 34H, 58H, 0DH, 0AH
   \            34580D0A
   \   000038   00           DB 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "IEEE:%02X%02X%02X%02X...">`:
   \   000000   49454545     DB "IEEE:%02X%02X%02X%02X%02X%02X%02X%02X\015\012"
   \            3A253032
   \            58253032
   \            58253032
   \            58253032
   \            58253032
   \            58253032
   \            58253032
   \            58253032
   \            580D0A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Parent IEEE:%02X%02X%...">`:
   \   000000   50617265     DB "Parent IEEE:%02X%02X%02X%02X%02X%02X%02X%02X\015\012"
   \            6E742049
   \            4545453A
   \            25303258
   \            25303258
   \            25303258
   \            25303258
   \            25303258
   \            25303258
   \            25303258
   \            25303258
   \            0D0A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "EndDevice:0x%04X\\r\\nPar...">`:
   \   000000   456E6444     DB 45H, 6EH, 64H, 44H, 65H, 76H, 69H, 63H
   \            65766963
   \   000008   653A3078     DB 65H, 3AH, 30H, 78H, 25H, 30H, 34H, 58H
   \            25303458
   \   000010   0D0A5061     DB 0DH, 0AH, 50H, 61H, 72H, 65H, 6EH, 74H
   \            72656E74
   \   000018   3A307825     DB 3AH, 30H, 78H, 25H, 30H, 34H, 58H, 0DH
   \            3034580D
   \   000020   0A436861     DB 0AH, 43H, 68H, 61H, 6EH, 6EH, 65H, 6CH
   \            6E6E656C
   \   000028   3A25640D     DB 3AH, 25H, 64H, 0DH, 0AH, 50H, 61H, 6EH
   \            0A50616E
   \   000030   49443A30     DB 49H, 44H, 3AH, 30H, 78H, 25H, 30H, 34H
   \            78253034
   \   000038   580D0A00     DB 58H, 0DH, 0AH, 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "Coordinator:0x%04X\\r\\nC...">`:
   \   000000   436F6F72     DB "Coordinator:0x%04X\015\012Channel:%d\015\012PanID:0x%04X\015\012"
   \            64696E61
   \            746F723A
   \            30782530
   \            34580D0A
   \            4368616E
   \            6E656C3A
   \            25640D0A
   \            50616E49
   \            443A3078
   \            25303458
   \            0D0A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "NO NET\\r\\n">`:
   \   000000   4E4F204E     DB "NO NET\015\012"
   \            45540D0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r\\nres_std=%u,res_t0=%...">`:
   \   000000   0D0A7265     DB "\015\012res_std=%u,res_t0=%u,temper=%5.2f\015\012"
   \            735F7374
   \            643D2575
   \            2C726573
   \            5F74303D
   \            25752C74
   \            656D7065
   \            723D2535
   \            2E32660D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r\\nres_u=%u,humidity=%d\\r\\n">`:
   \   000000   0D0A7265     DB "\015\012res_u=%u,humidity=%d\015\012"
   \            735F753D
   \            25752C68
   \            756D6964
   \            6974793D
   \            25640D0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r\\nres_gh=%u,guanghe=%d\\r\\n">`:
   \   000000   0D0A7265     DB "\015\012res_gh=%u,guanghe=%d\015\012"
   \            735F6768
   \            3D25752C
   \            6775616E
   \            6768653D
   \            25640D0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "BG,ID%03u,%04d,%03d,%...">`:
   \   000000   42472C49     DB "BG,ID%03u,%04d,%03d,%04d,ED\015\012"
   \            44253033
   \            752C2530
   \            34642C25
   \            3033642C
   \            25303464
   \            2C45440D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r\\n%s">`:
   \   000000   0D0A2573     DB "\015\012%s"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#RS">`:
   \   000000   23525300     DB "#RS"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "clear\\r\\n">`:
   \   000000   636C6561     DB "clear\015\012"
   \            720D0A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "reset\\r\\n">`:
   \   000000   72657365     DB "reset\015\012"
   \            740D0A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#GH">`:
   \   000000   23474800     DB "#GH"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<GH,%03u,%.2f>\\r\\n">`:
   \   000000   3C47482C     DB "<GH,%03u,%.2f>\015\012"
   \            25303375
   \            2C252E32
   \            663E0D0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%d">`:
   \   000000   256400       DB "%d"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%f">`:
   \   000000   256600       DB "%f"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%5.2f">`:
   \   000000   25352E32     DB "%5.2f"
   \            6600    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#ID">`:
   \   000000   23494400     DB "#ID"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<ID,%03u>\\r\\n">`:
   \   000000   3C49442C     DB "<ID,%03u>\015\012"
   \            25303375
   \            3E0D0A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%03u">`:
   \   000000   25303375     DB "%03u"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#CR">`:
   \   000000   23435200     DB "#CR"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<CR,%.2f>\\r\\n">`:
   \   000000   3C43522C     DB "<CR,%.2f>\015\012"
   \            252E3266
   \            3E0D0A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#PD">`:
   \   000000   23504400     DB "#PD"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<PD,0x%04X>\\r\\n">`:
   \   000000   3C50442C     DB "<PD,0x%04X>\015\012"
   \            30782530
   \            34583E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "%x">`:
   \   000000   257800       DB "%x"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#CH">`:
   \   000000   23434800     DB "#CH"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<CH,0x%02X>\\r\\n">`:
   \   000000   3C43482C     DB "<CH,0x%02X>\015\012"
   \            30782530
   \            32583E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#SA">`:
   \   000000   23534100     DB "#SA"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<SA,0x%04X>\\r\\n">`:
   \   000000   3C53412C     DB "<SA,0x%04X>\015\012"
   \            30782530
   \            34583E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#DPD">`:
   \   000000   23445044     DB "#DPD"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<DPD,0x%04X>\\r\\n">`:
   \   000000   3C445044     DB "<DPD,0x%04X>\015\012"
   \            2C307825
   \            3034583E
   \            0D0A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<DPD,F>\\r\\n">`:
   \   000000   3C445044     DB "<DPD,F>\015\012"
   \            2C463E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<DPD,T>\\r\\n">`:
   \   000000   3C445044     DB "<DPD,T>\015\012"
   \            2C543E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#DCH">`:
   \   000000   23444348     DB "#DCH"
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<DCH,ALL>\\r\\n">`:
   \   000000   3C444348     DB "<DCH,ALL>\015\012"
   \            2C414C4C
   \            3E0D0A00

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<DCH,0x%02X>\\r\\n">`:
   \   000000   3C444348     DB "<DCH,0x%02X>\015\012"
   \            2C307825
   \            3032583E
   \            0D0A00  

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "ALL">`:
   \   000000   414C4C00     DB "ALL"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "all">`:
   \   000000   616C6C00     DB "all"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<CH,F>\\r\\n">`:
   \   000000   3C43482C     DB "<CH,F>\015\012"
   \            463E0D0A
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<CH,0x%02X,0x%08lX>\\r\\n">`:
   \   000000   3C43482C     DB "<CH,0x%02X,0x%08lX>\015\012"
   \            30782530
   \            32582C30
   \            78253038
   \            6C583E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<DCH,F>\\r\\n">`:
   \   000000   3C444348     DB "<DCH,F>\015\012"
   \            2C463E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "<DCH,T>\\r\\n">`:
   \   000000   3C444348     DB "<DCH,T>\015\012"
   \            2C543E0D
   \            0A00    

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "#DG">`:
   \   000000   23444700     DB "#DG"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "T\\r\\n">`:
   \   000000   540D0A00     DB "T\015\012"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "F\\r\\n">`:
   \   000000   460D0A00     DB "F\015\012"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_42c80000:
   \   000000   0000C842     DD 42C80000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3e4ccccd:
   \   000000   CDCC4C3E     DD 3E4CCCCDH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_41200000:
   \   000000   00002041     DD 41200000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_0:
   \   000000   00000000     DD 0H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_bf000000:
   \   000000   000000BF     DD 0BF000000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3f000000:
   \   000000   0000003F     DD 3F000000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_477fff00:
   \   000000   00FF7F47     DD 477FFF00H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3fa00000:
   \   000000   0000A03F     DD 3FA00000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3e000000:
   \   000000   0000003E     DD 3E000000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_447a0000:
   \   000000   00007A44     DD 447A0000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_3f800000:
   \   000000   0000803F     DD 3F800000H

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_c11fffff:
   \   000000   FFFF1FC1     DD 0C11FFFFFH

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_7fff800:
   \   000000   00F8FF07     DD 134215680
   1336          
   1337          /*********************************************************************
   1338          *********************************************************************/

   Maximum stack usage in bytes:

   ISTACK XSTACK Function
   ------ ------ --------
      2     42   ReturnTorF
        2      0   -> SampleApp_SendPointToPointMessage
        2      0   -> printf
      0     15   SampleApp_Init
        0     11   -> ADC_Init
        0     11   -> MT_UartInit
        0     11   -> MT_UartRegisterTaskID
        0     11   -> RegisterForKeys
        0     11   -> WDT_Init
        0     11   -> afRegister
        0     11   -> aps_AddGroup
        0     11   -> atof
        0     11   -> atoi
        0     14   -> osal_memcpy
        0     11   -> osal_memset
        0     13   -> osal_nv_item_init
        0     15   -> osal_nv_read
        0     11   -> osal_start_reload_timer
        0     11   -> printf
      0     66   SampleApp_MessageMSGCB
        0     42   -> HalUARTWrite
        0     42   -> ReturnTorF
        0     42   -> SampleApp_SendPointToPointMessage
        0     42   -> atoi
        0     45   -> osal_memcmp
        0     46   -> osal_nv_write
        0     42   -> printf
        0     46   -> sprintf
        0     48   -> sprintf
        0     44   -> sscanf
        0     42   -> strchr
        0     44   -> strchr
        0     42   -> zgWriteStartupOptions
      0     34   SampleApp_ProcessEvent
        0     18   -> ADC_MeasureStart
        0     18   -> ADC_ReadData
        0     22   -> CalculateRadiation
        0     18   -> CalculateTemp
        0     18   -> SampleApp_MessageMSGCB
        0     18   -> SampleApp_SendPointToPointMessage
        0     18   -> SampleApp_SerialCMD
        0     18   -> WDT_Feed
        0     18   -> osal_msg_deallocate
        0     18   -> osal_msg_receive
        0     18   -> osal_set_event
        0     18   -> osal_start_timerEx
        0     18   -> printf
        0     20   -> printf
        0     22   -> printf
        0     24   -> printf
        0     26   -> printf
        0     34   -> printf
        0     26   -> sprintf
      0     19   SampleApp_SendPeriodicMessage
        0     19   -> AF_DataRequest
      0     61   SampleApp_SendPointToPointMessage
        0     19   -> AF_DataRequest
      4     50   SampleApp_SerialCMD
        0     26   -> NLME_UpdateNV
        0     26   -> ReturnTorF
        0     26   -> atoi
        0     28   -> nvItemInit
        0     29   -> osal_memcmp
        0     26   -> osal_memset
        0     30   -> osal_nv_write
        0     26   -> printf
        0     28   -> printf
        0     30   -> printf
        0     32   -> printf
        0     28   -> sprintf
        0     30   -> sprintf
        0     28   -> sscanf
        2     28   -> strchr
        4     28   -> strchr
        0     26   -> zgWriteStartupOptions
      2      0   SendDataToCollector
        2      0   -> HalUARTWrite


   Segment part sizes:

   Bytes  Function/Label
   -----  --------------
       4  ?<Constant "#CH">
       4  ?<Constant "#CR">
       5  ?<Constant "#DCH">
       4  ?<Constant "#DG">
       5  ?<Constant "#DPD">
       4  ?<Constant "#GH">
       4  ?<Constant "#ID">
       4  ?<Constant "#PD">
       4  ?<Constant "#RS">
       4  ?<Constant "#SA">
       5  ?<Constant "%03u">
       6  ?<Constant "%5.2f">
       3  ?<Constant "%d">
       3  ?<Constant "%f">
       3  ?<Constant "%x">
      22  ?<Constant "<CH,0x%02X,0x%08lX>\r\n">
      14  ?<Constant "<CH,0x%02X>\r\n">
       9  ?<Constant "<CH,F>\r\n">
      12  ?<Constant "<CR,%.2f>\r\n">
      15  ?<Constant "<DCH,0x%02X>\r\n">
      12  ?<Constant "<DCH,ALL>\r\n">
      10  ?<Constant "<DCH,F>\r\n">
      10  ?<Constant "<DCH,T>\r\n">
      15  ?<Constant "<DPD,0x%04X>\r\n">
      10  ?<Constant "<DPD,F>\r\n">
      10  ?<Constant "<DPD,T>\r\n">
      17  ?<Constant "<GH,%03u,%.2f>\r\n">
      12  ?<Constant "<ID,%03u>\r\n">
      14  ?<Constant "<PD,0x%04X>\r\n">
      14  ?<Constant "<SA,0x%04X>\r\n">
       4  ?<Constant "ALL">
      30  ?<Constant "BG,ID%03u,%04d,%03d,%...">
      47  ?<Constant "Coordinator:0x%04X\r\nC...">
      60  ?<Constant "EndDevice:0x%04X\r\nPar...">
       4  ?<Constant "F\r\n">
      24  ?<Constant "GH flash init failed!!\n">
      24  ?<Constant "GH flash read failed!!\n">
       8  ?<Constant "Group 1">
      24  ?<Constant "ID flash init failed!!\n">
      24  ?<Constant "ID flash read failed!!\n">
      40  ?<Constant "IEEE:%02X%02X%02X%02X...">
      15  ?<Constant "NET SUCCESS!\r\n">
       9  ?<Constant "NO NET\r\n">
      47  ?<Constant "Parent IEEE:%02X%02X%...">
      57  ?<Constant "Router:0x%04X\r\nParent...">
      14  ?<Constant "System init!\n">
       4  ?<Constant "T\r\n">
      26  ?<Constant "WDDT flash init faile...">
      26  ?<Constant "WDDT flash read faile...">
       5  ?<Constant "\r\n%s">
      25  ?<Constant "\r\nres_gh=%u,guanghe=%d\r\n">
      38  ?<Constant "\r\nres_std=%u,res_t0=%...">
      25  ?<Constant "\r\nres_u=%u,humidity=%d\r\n">
       4  ?<Constant "all">
       8  ?<Constant "clear\r\n">
       8  ?<Constant "reset\r\n">
     128  ?<Initializer for data_sensor>
       6  ??ReturnTorF?relay
       6  ??SampleApp_Init?relay
       6  ??SampleApp_MessageMSGCB?relay
       6  ??SampleApp_ProcessEvent?relay
       6  ??SampleApp_SendPeriodicMessage?relay
       6  ??SampleApp_SendPointToPointMessage?relay
       6  ??SampleApp_SerialCMD?relay
       6  ??SendDataToCollector?relay
       6  ??Subroutine12_0
      10  ??Subroutine13_0
       6  ??Subroutine14_0
       2  ??Subroutine15_0
       5  ??Subroutine16_0
       8  ??Subroutine17_0
       6  ??Subroutine18_0
       8  ?Subroutine0
      13  ?Subroutine1
       4  ?Subroutine10
       6  ?Subroutine11
       7  ?Subroutine2
      21  ?Subroutine3
       6  ?Subroutine4
       3  ?Subroutine5
       3  ?Subroutine6
       3  ?Subroutine7
      12  ?Subroutine8
      16  ?Subroutine9
      12  Point_To_Point_DstAddr
      54  ReturnTorF
       1  SampleAppFlashCounter
       1  SampleAppPeriodicCounter
       8  SampleApp_ClusterList
      12  SampleApp_Flash_DstAddr
      18  SampleApp_Group
     522  SampleApp_Init
     512  SampleApp_MessageMSGCB
       1  SampleApp_NwkState
      12  SampleApp_Periodic_DstAddr
    1418  SampleApp_ProcessEvent
      63  SampleApp_SendPeriodicMessage
      65  SampleApp_SendPointToPointMessage
    1824  SampleApp_SerialCMD
      12  SampleApp_SimpleDesc
       1  SampleApp_TaskID
       1  SampleApp_TransID
       6  SampleApp_epDesc
       9  SendDataToCollector
       4  __Constant_0
       4  __Constant_3e000000
       4  __Constant_3e4ccccd
       4  __Constant_3f000000
       4  __Constant_3f800000
       4  __Constant_3fa00000
       4  __Constant_41200000
       4  __Constant_42c80000
       4  __Constant_447a0000
       4  __Constant_477fff00
       4  __Constant_7fff800
       4  __Constant_bf000000
       4  __Constant_c11fffff
       4  cal_t0
     128  data_sensor
       2  debug
      10  dev_gh
      10  dev_id
      10  dev_wddt
       4  gh_factor
       1  orphan
       2  res_std
       2  rs_flag
       6  sensor
       2  sensor_id

 
 4 612 bytes in segment BANKED_CODE
    48 bytes in segment BANK_RELAYS
   128 bytes in segment XDATA_I
   128 bytes in segment XDATA_ID
   930 bytes in segment XDATA_ROM_C
   118 bytes in segment XDATA_Z
 
 4 788 bytes of CODE  memory
   878 bytes of CONST memory (+ 52 bytes shared)
   246 bytes of XDATA memory

Errors: none
Warnings: 26
